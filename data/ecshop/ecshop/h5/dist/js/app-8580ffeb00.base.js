!function(){"use strict";angular.module("app",["ngAria","ngCookies","ngMessages","ngResource","ngSanitize","ngStorage","ui.router","ui.router.util","angularLazyImg","infinite-scroll","angular-cache","angular-loading-bar","ngToast"]),angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide","$locationProvider","$sceDelegateProvider","cfpLoadingBarProvider","ngToastProvider",function(i,e,t,a,s,c,n,o){app.controller=i.register,app.directive=e.directive,app.filter=t.register,app.factory=a.factory,app.service=a.service,app.constant=a.constant,app.value=a.value,c.resourceUrlWhitelist(["self",GLOBAL_CONFIG.API_HOST+"/**"]),n.includeSpinner=!1,o.configure({horizontalPosition:"center",verticalPosition:"center",maxNumber:1,animation:"fade"})}]),angular.inherits=function(i,e){i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1}})}}(),function(){"use strict";function i(i,e,t,a,s,c,n,o,r,d,l,v,u,g){function p(){var i=!!navigator.userAgent.match(/MSIE/i);return i}function m(i){var e=navigator.userAgent||navigator.vendor;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}function f(){if(!o.FOR_WEIXIN)return!1;var i=navigator.userAgent.toLowerCase()||navigator.vendor.toLowerCase();return"micromessenger"==i.match(/MicroMessenger/i)}function h(){return!0}function b(i){var e=new RegExp("(^|&)"+i+"=([^&]*)(&|$)"),t=a.location.search.substr(1),s=t.match(e);return null!=s?unescape(s[2]):null}i.app={name:GLOBAL_CONFIG.APP_NAME,desc:GLOBAL_CONFIG.APP_DESC,keywords:GLOBAL_CONFIG.APP_KEYWORDS,settings:{showNavbar:!0,showTabbar:!0},useragent:{isIE:p(),isWeixin:f(),isMobile:m(),isBrowser:h()}},s.goBack=function(){!a.history||a.history.length<=1?c.go("home",{}):a.history.back()},s.goHome=function(){c.go("home",{})},s.goCategory=function(){c.go("category",{})},s.goCart=function(){c.go("cart",{})},s.goProfile=function(){c.go("profile",{})},s.goMyOrder=function(){c.go("my-order",{tab:"all"})},s.goMyFavorite=function(){c.go("my-favorite",{})},s.goMyCashgift=function(){c.go("my-cashgift",{})},s.goMyAddress=function(){c.go("my-address",{})},s.goSignin=function(){c.go("signin",{})},s.isWeixin=f,s.toast=function(i){l.create({content:'<a class="error-toast">'+i+"</a>",timeout:2e3,dismissOnTimeout:!0})},v.reloadIfNeeded();var y=e.search();if(y){var E=b("token"),A=b("openid"),k=b("u");k&&u.setReferences(k),E&&u.setToken(E),A&&u.setOpenId(A)}}angular.module("app").controller("AppController",i),i.$inject=["$scope","$location","$localStorage","$window","$rootScope","$state","$controller","CONSTANTS","API","ENUM","ngToast","CartModel","AppAuthenticationService","ConfigModel"]}(),function(){"use strict";function i(i,e,t,a,s,c,n){i.$state=e,i.$stateParams=t,i.$on("$stateChangeStart",function(e,t,a,s,o){t.needAuth&&!n.getToken()&&c(function(){i.goSignin()},1)}),i.$on("$stateChangeSuccess",function(i,e,t,a,c){$("html, body").animate({scrollTop:$("body").offset().top},"fast",function(){}),e.title&&(s.document.title=e.title)}),i.$on("$stateNotFound",function(i,t,a,s,c){e.go("home",{})})}function e(i,e){e.otherwise("/home"),i.state("404",{url:"/404",templateUrl:"app/templates/404.html"})}angular.module("app").run(i).config(e),i.$inject=["$rootScope","$state","$stateParams","$location","$window","$timeout","AppAuthenticationService"],e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("app").constant("CONSTANTS",{APP_NAME:GLOBAL_CONFIG.APP_NAME,API_HOST:GLOBAL_CONFIG.API_HOST,FOR_WEIXIN:GLOBAL_CONFIG.FOR_WEIXIN,ENCRYPTED:GLOBAL_CONFIG.ENCRYPTED,APP_CONFIG:{}}).run(["$rootScope","CONSTANTS",function(i,e){i.CONSTANTS=e}])}(),function(){"use strict";function i(i,e,t){function a(e,t){n(e,t),$timeout(function(){i.goHome()},1)}function s(){d(),$timeout(function(){i.goHome()},1)}function c(){d(),i.goSignin()}function n(e,a){i.user=a,i.token=e;try{var s=new Date;s.setDate(s.getDate()+b),s.setMinutes(s.getMinutes()+y),t.putObject("u",a,{expires:s}),t.put("t",e,{expires:s})}catch(c){}}function o(e){i.references=e;try{var a=new Date;a.setDate(a.getDate()+b),a.setMinutes(a.getMinutes()+y),t.put("r",e,{expires:a})}catch(s){}}function r(){return i.references}function d(){i.user=null,i.token=null,i.openId=null,t.remove("u"),t.remove("t"),t.remove("o")}function l(){return i.user}function v(e){i.user=e;try{var a={},s=new Date;s.setDate(s.getDate()+b),s.setMinutes(s.getMinutes()+y),a.expires=s,t.putObject("u",e,a)}catch(c){}}function u(e){i.token=e;try{var a={},s=new Date;s.setDate(s.getDate()+b),s.setMinutes(s.getMinutes()+y),a.expires=s,t.put("t",e,a)}catch(c){}}function g(){return i.token}function p(e){i.openId=e;try{var a={},s=new Date;s.setDate(s.getDate()+b),s.setMinutes(s.getMinutes()+y),a.expires=s,t.put("o",e,a)}catch(c){}}function m(){return i.openId}try{i.user=t.getObject("u"),i.token=t.get("t"),i.openId=t.get("o"),i.references=t.get("r")}catch(f){}var h={};h.signin=a,h.signout=s,h.kickout=c,h.setCredentials=n,h.clearCredentials=d,h.setUser=v,h.getUser=l,h.getToken=g,h.setToken=u,h.setReferences=o,h.getReferences=r,h.setOpenId=p,h.getOpenId=m;var b=7,y=1;return h}angular.module("app").factory("AppAuthenticationService",i),i.$inject=["$rootScope","$localStorage","$cookies"]}(),function(){"use strict";function i(i){var e=Object.keys(i);return e.sort(),e}function e(e,t){function a(i,e,t,a,s,c,n){return{request:function(i){return"/"==i.url.charAt(0)&&(i.url=s.API_HOST+i.url),i},requestError:function(e){return i.toast("网络错误，请稍后再试"),e},response:function(e){if(e&&e.data&&e.data.error_code&&c.ERROR_CODE.OK!=e.data.error_code){GLOBAL_CONFIG.DEBUG&&console.error("[Error] Code: "+e.data.error_code+", Message: "+e.data.error_desc);var t=e.data.error_desc;t||(t="网络错误 "+e.data.error_code),i.toast(t),e.data.error_code!==c.ERROR_CODE.TOKEN_INVALID&&e.data.error_code!==c.ERROR_CODE.TOKEN_EXPIRED||n.kickout()}return e},responseError:function(e){var t="网络错误 ("+e.status+"), "+e.statusText;return i.toast(t),e.data={error_code:c.ERROR_CODE.UNKNOWN,error_desc:t},e}}}function s(e,t,a){return void 0==e.activeCalls&&(e.activeCalls=0),{request:function(a){e.activeCalls+=1,a.headers["X-ECAPI-UserAgent"]="Platform/Wechat",a.headers["X-ECAPI-UDID"]=null,a.headers["X-ECAPI-Ver"]="1.1.0",a.headers["X-ECAPI-Sign"]=null;var s=t.getToken();s&&(a.headers["X-ECAPI-Authorization"]=s),GLOBAL_CONFIG.DEBUG&&console.log("[HTTP] Request, "+a.method+" '"+a.url+"'");var o=a.data||{};if(void 0!=o&&GLOBAL_CONFIG.ENCRYPTED){for(var r=i(o),d="",l=0;l<r.length;++l){l>0&&(d+="&");var v=r[l],u=o[v];u=encodeURIComponent(u).replace("!","%21").replace("*","%2A").replace("(","%28").replace(")","%29").replace(")","%27").replace("~","%7E"),d+=v+"="+u}var g=Date.parse(new Date)/1e3+"",p=XXTEA.encryptToBase64(d,n),m=(encodeURIComponent(p).replace("!","%21").replace("*","%2A").replace("(","%28").replace(")","%29").replace(")","%27").replace("~","%7E"),g+d),f=CryptoJS.HmacSHA256(m,c,{asBytes:!1}),h=f.toString(CryptoJS.enc.Hex);a.headers["X-ECAPI-Sign"]=h+","+g,p&&p.length>0&&(a.data={x:p})}return a},requestError:function(i){return e.activeCalls-=1,GLOBAL_CONFIG.DEBUG&&console.error("[HTTP] Error"),i},response:function(i){e.activeCalls-=1,GLOBAL_CONFIG.DEBUG&&console.log("[HTTP] Response, "+i.config.method+" '"+i.config.url+"', "+i.status+" "+i.statusText);var a=i.headers(),s=parseInt(a["x-ecapi-errorcode"]),c=a["x-ecapi-errordesc"],o=a["x-ecapi-new-authorization"];if(GLOBAL_CONFIG.ENCRYPTED&&i.data&&i.data.data){var r=XXTEA.decryptFromBase64(i.data.data,n),d=JSON.parse(r);if(d){delete i.data.data,i.data.error_code=s,i.data.error_desc=c,o&&t.setToken(o);for(var l in d)i.data[l]=d[l]}}return i},responseError:function(i){return e.activeCalls-=1,GLOBAL_CONFIG.DEBUG&&console.error("[HTTP] Error"),e.toast("网络错误，请稍后再试"),i}}}var c="arc4random()",n="getprogname()";e.interceptors.push("AppNetworkProxyInterceptor"),e.interceptors.push("AppNetworkHeaderInterceptor"),t.factory("AppNetworkProxyInterceptor",a),a.$inject=["$rootScope","$cookieStore","$location","$q","CONSTANTS","ENUM","AppAuthenticationService"],t.factory("AppNetworkHeaderInterceptor",s),s.$inject=["$rootScope","AppAuthenticationService","ENUM"]}angular.module("app").config(e),e.$inject=["$httpProvider","$provide"]}(),function(){"use strict";function i(i){var e={};return e}angular.module("app").factory("APIAccessService",i),i.$inject=["$http"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.areacode.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.area_code:null})}var n=new APIEndpoint(i,e,t,a,"APIAreacodeService");return n.list=c,n}angular.module("app").factory("APIAreacodeService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.article.list",i,!1,function(i){return i.data&&s.ERROR_CODE.OK==i.data.error_code?i.data:null})}var n=new APIEndpoint(i,e,t,a,"APIArticleService");return n.list=c,n}angular.module("app").factory("APIArticleService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){return this.fetch("/v2/ecapi.auth.signin",i,!1,function(i){return i.data&&c.ERROR_CODE.OK==i.data.error_code&&i.data.token&&i.data.user?(s.setCredentials(i.data.token,i.data.user),!0):!1})}function o(){var i=this.$q.defer();return t(function(){s.clearCredentials(),i.resolve(!0)},1),i.promise}var r=new APIEndpoint(i,e,t,a,"APIAuthBaseService");return r.signin=n,r.signout=o,r}angular.module("app").factory("APIAuthBaseService",i),i.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){return this.fetch("/v2/ecapi.auth.default.signup",i,!1,function(i){return i.data&&c.ERROR_CODE.OK==i.data.error_code&&i.data.token&&i.data.user?(s.setCredentials(i.data.token,i.data.user),i):i})}function o(i){return this.fetch("/v2/ecapi.auth.default.reset",i,!1,function(i){return i})}var r=new APIEndpoint(i,e,t,a,"APIAuthDefaultService");return r.signup=n,r.reset=o,r}angular.module("app").factory("APIAuthDefaultService",i),i.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){return this.fetch("/v2/ecapi.auth.mobile.send",i,!1,function(i){return i})}function o(i){return this.fetch("/v2/ecapi.auth.mobile.verify",i,!1,function(i){return c.ERROR_CODE.OK==i.data.error_code})}function r(i){return this.fetch("/v2/ecapi.auth.mobile.signup",i,!1,function(i){return i.data&&c.ERROR_CODE.OK==i.data.error_code&&i.data.token&&i.data.user&&s.setCredentials(i.data.token,i.data.user),i})}function d(i){return this.fetch("/v2/ecapi.auth.mobile.reset",i,!1,function(i){return i})}var l=new APIEndpoint(i,e,t,a,"APIAuthMobileService");return l.send=n,l.verify=o,l.signup=r,l.reset=d,l}angular.module("app").factory("APIAuthMobileService",i),i.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){return this.fetch("/v2/ecapi.auth.social",i,!1,function(i){return i.data&&c.ERROR_CODE.OK==i.data.error_code&&i.data.token&&i.data.user?(s.setCredentials(i.data.token,i.data.user),!0):!1})}var o=new APIEndpoint(i,e,t,a,"APIAuthSocialService");return o.social=n,o}angular.module("app").factory("APIAuthSocialService",i),i.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){}var o=new APIEndpoint(i,e,t,a,"APIAuthWebService");return o.web=n,o}angular.module("app").factory("APIAuthWebService",i),i.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.banner.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.banners:null})}var n=new APIEndpoint(i,e,t,a,"APIBannerService");return n.list=c,n}angular.module("app").factory("APIBannerService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.brand.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.brands:null})}var n=new APIEndpoint(i,e,t,a,"APIBrandService");return n.list=c,n}angular.module("app").factory("APIBrandService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.cardpage.preview",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.cardpage:null})}function n(i){return this.fetch("/v2/ecapi.cardpage.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.cardpage:null})}var o=new APIEndpoint(i,e,t,a,"APIBrandService");return o.preview=c,o.get=n,o}angular.module("app").factory("APICardpageService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.cart.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.goods_groups:null})}function n(i){return this.fetch("/v2/ecapi.cart.add",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function o(i){return this.fetch("/v2/ecapi.cart.delete",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function r(i){return this.fetch("/v2/ecapi.cart.update",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function d(i){return this.fetch("/v2/ecapi.cart.clear",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function l(i){return this.fetch("/v2/ecapi.cart.promos",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.cart_product_promos:null})}function v(i){return this.fetch("/v2/ecapi.cart.checkout",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order:null})}var u=new APIEndpoint(i,e,t,a,"APICartService");return u.get=c,u.add=n,u["delete"]=o,u.update=r,u.clear=d,u.promos=l,u.checkout=v,u}angular.module("app").factory("APICartService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.cashgift.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.cashgifts:null})}function n(i){return this.fetch("/v2/ecapi.cashgift.available",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.cashgifts:null})}var o=new APIEndpoint(i,e,t,a,"APICashgiftService");return o.list=c,o.available=n,o}angular.module("app").factory("APICashgiftService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.category.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.categories:null})}var n=new APIEndpoint(i,e,t,a,"APICategoryService");return n.list=c,n}angular.module("app").factory("APICategoryService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.config.get",i,!1,function(i){if(s.ERROR_CODE.OK==i.data.error_code){if(GLOBAL_CONFIG.ENCRYPTED)return i.data;var e="getprogname()",t=i.data.data;return JSON.parse(XXTEA.decryptFromBase64(t,e))}return null})}var n=new APIEndpoint(i,e,t,a,"APIConfigService");return n.get=c,n}angular.module("app").factory("APIConfigService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.consignee.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.consignees:null})}function n(i){return this.fetch("/v2/ecapi.consignee.add",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.consignee:null})}function o(i){return this.fetch("/v2/ecapi.consignee.delete",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function r(i){return this.fetch("/v2/ecapi.consignee.update",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function d(i){return this.fetch("/v2/ecapi.consignee.setDefault",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}var l=new APIEndpoint(i,e,t,a,"APIConsigneeService");return l.list=c,l.add=n,l["delete"]=o,l.update=r,l.setDefault=d,l}angular.module("app").factory("APIConsigneeService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.coupon.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.coupons:null})}function n(i){return this.fetch("/v2/ecapi.coupon.available",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.coupons:null})}var o=new APIEndpoint(i,e,t,a,"APICouponService");return o.list=c,o.available=n,o}angular.module("app").factory("APICouponService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.invoice.type.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.types:null})}function n(i){return this.fetch("/v2/ecapi.invoice.content.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.contents:null})}function o(i){return this.fetch("/v2/ecapi.invoice.status.get",params,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}var r=new APIEndpoint(i,e,t,a,"APIInvoiceService");return r.typeList=c,r.contentList=n,r.statusGet=o,r}angular.module("app").factory("APIInvoiceService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.message.system.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.messages:null})}function n(i){return this.fetch("/v2/ecapi.message.order.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.messages:null})}function o(i){return this.fetch("/v2/ecapi.message.count",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.count:0})}var r=new APIEndpoint(i,e,t,a,"APIMessageService");return r.systemList=c,r.orderList=n,r.count=o,r}angular.module("app").factory("APIMessageService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.notice.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.notices:null})}var n=new APIEndpoint(i,e,t,a,"APINoticeService");return n.list=c,n}angular.module("app").factory("APINoticeService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.order.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order:null})}function n(i){return this.fetch("/v2/ecapi.order.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.orders:null})}function o(i){return this.fetch("/v2/ecapi.order.confirm",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order:null})}function r(i){return this.fetch("/v2/ecapi.order.reason.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.reasons:null})}function d(i){return this.fetch("/v2/ecapi.order.cancel",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order:null})}function l(i){return this.fetch("/v2/ecapi.order.review",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code})}function v(i){return this.fetch("/v2/ecapi.order.subtotal",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.subtotal:null})}function u(i){return this.fetch("/v2/ecapi.order.price",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order_price:null})}var g=new APIEndpoint(i,e,t,a,"APIOrderService");return g.get=c,g.list=n,g.confirm=o,g.reasonList=r,g.cancel=d,g.review=l,g.subtotal=v,g.price=u,g}angular.module("app").factory("APIOrderService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.payment.pay",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i:null})}function n(i){return this.fetch("/v2/ecapi.payment.types.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.payment_types:null})}var o=new APIEndpoint(i,e,t,a,"APIPaymentService");return o.pay=c,o.typeList=n,o}angular.module("app").factory("APIPaymentService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.product.list",i,!1,function(i){return i.data&&s.ERROR_CODE.OK==i.data.error_code?i.data.products:null})}function n(i){return this.fetch("/v2/ecapi.home.product.list",i,!1,function(i){return i.data&&s.ERROR_CODE.OK==i.data.error_code?i.data:null})}function o(i){return this.fetch("/v2/ecapi.product.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.products:null})}function r(i){return this.fetch("/v2/ecapi.product.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.product:null})}function d(i){return this.fetch("/v2/ecapi.product.like",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.is_liked:!0})}function l(i){return this.fetch("/v2/ecapi.product.unlike",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.is_liked:!1})}function v(i){return this.fetch("/v2/ecapi.product.liked.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.products:null})}function u(i){return this.fetch("/v2/ecapi.product.validate",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.is_valid:!1})}function g(i){return this.fetch("/v2/ecapi.product.purchase",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.order:null})}var p=new APIEndpoint(i,e,t,a,"APIProductService");return p.list=c,p.homeList=n,p.accessoryList=o,p.get=r,p.like=d,p.unlike=l,p.likedList=v,p.validate=u,p.purchase=g,p}angular.module("app").factory("APIProductService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.push.update",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i:null})}var n=new APIEndpoint(i,e,t,a,"APIPushService");return n.update=c,n}angular.module("app").factory("APIPushService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.recommend.category.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.categories:null})}function n(i){return this.fetch("/v2/ecapi.recommend.product.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.products:null})}function o(i){return this.fetch("/v2/ecapi.recommend.brand.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.brands:null})}function r(i){return this.fetch("/v2/ecapi.recommend.shop.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.shops:null})}function d(i){return this.fetch("/v2/ecapi.recommend.bonus.info",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.bonus_info:null})}var l=new APIEndpoint(i,e,t,a,"APIRecommendService");return l.categoryList=c,l.productList=n,l.brandList=o,l.shopList=r,l.bonusInfo=d,l}angular.module("app").factory("APIRecommendService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.region.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.regions:null})}var n=new APIEndpoint(i,e,t,a,"APIRegionService");return n.list=c,n}angular.module("app").factory("APIRegionService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.review.product.subtotal",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.subtotal:null})}function n(i){return this.fetch("/v2/ecapi.review.product.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.reviews:null})}var o=new APIEndpoint(i,e,t,a,"APIReviewService");return o.productSubtotal=c,o.productList=n,o}angular.module("app").factory("APIReviewService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.score.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data:null})}function n(i){return this.fetch("/v2/ecapi.score.history.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.history:null})}var o=new APIEndpoint(i,e,t,a,"APIScoreService");return o.get=c,o.historyList=n,o}angular.module("app").factory("APIScoreService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.search.keyword.list",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.keywords:null})}function n(i){return this.fetch("/v2/ecapi.search.shop.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.shops:null})}function o(i){return this.fetch("/v2/ecapi.search.product.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.products:null})}function r(i){return this.fetch("/v2/ecapi.search.category.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i:null})}var d=new APIEndpoint(i,e,t,a,"APISearchService");return d.keywordList=c,d.shopList=n,d.productList=o,d.categoryList=r,d}angular.module("app").factory("APISearchService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s,c){function n(i){return this.fetch("/v2/ecapi.shipping.vendor.list",i,!1,function(i){return c.ERROR_CODE.OK==i.data.error_code?i.data.vendors:null})}function o(i){return this.fetch("/v2/ecapi.shipping.status.get",i,!1,function(i){return c.ERROR_CODE.OK==i.data.error_code?i.data:null})}var r=new APIEndpoint(i,e,t,s,"APIShippingService");return r.vendorList=n,r.statusGet=o,r}angular.module("app").factory("APIShippingService",i),i.$inject=["$http","$q","$timeout","$rootScope","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){var c=new APIEndpoint(i,e,t,a,"APIShopService");return c}angular.module("app").factory("APIShopService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.site.get",i,!1,function(i){return i.data&&i.data.site_info?i.data.site_info:null})}var n=new APIEndpoint(i,e,t,a,"APISiteService");return n.get=c,n}angular.module("app").factory("APISiteService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.splash.preview",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.splash:null})}function n(i){return this.fetch("/v2/ecapi.splash.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.splashes:null})}var o=new APIEndpoint(i,e,t,a,"APISplashService");return o.preview=c,o.list=n,o}angular.module("app").factory("APISplashService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i){var e={};return e}angular.module("app").factory("APIThemeService",i),i.$inject=["$http"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.user.profile.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.user:null})}function n(i){return this.fetch("/v2/ecapi.user.profile.fields",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.signup_field:null})}function o(i){return this.fetch("/v2/ecapi.user.profile.update",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.user:null})}function r(i){return this.fetch("/v2/ecapi.user.password.update",i,!1,function(i){return i})}var d=new APIEndpoint(i,e,t,a,"APIUserService");return d.profileGet=c,d.profileFields=n,d.profileUpdate=o,d.passwordUpdate=r,d}angular.module("app").factory("APIUserService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.version.check",i,!0,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.version_info:null})}var n=new APIEndpoint(i,e,t,a,"APIVersionService");return n.check=c,n}angular.module("app").factory("APIVersionService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.recommend.bonus.info",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.bonus_info:null})}function n(i){return this.fetch("/v2/ecapi.recommend.bonus.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.bonues:null})}var o=new APIEndpoint(i,e,t,a,"APIBonusService");return o.get=c,o.list=n,o}angular.module("app").factory("APIBonusService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.balance.get",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.amount:null})}function n(i){return this.fetch("/v2/ecapi.balance.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.balances:null})}var o=new APIEndpoint(i,e,t,a,"APIBalanceService");return o.get=c,o.list=n,o}angular.module("app").factory("APIBalanceService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(){"use strict";function i(i,e,t,a,s){function c(i){return this.fetch("/v2/ecapi.withdraw.info",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.withdraw:null})}function n(i){return this.fetch("/v2/ecapi.withdraw.cancel",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.withdraw:null})}function o(i){return this.fetch("/v2/ecapi.withdraw.submit",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.withdraw:null})}function r(i){return this.fetch("/v2/ecapi.withdraw.list",i,!1,function(i){return s.ERROR_CODE.OK==i.data.error_code?i.data.withdraws:null})}var d=new APIEndpoint(i,e,t,a,"APIWithDrawService");return d.get=c,d.list=r,d.cancel=n,d.submit=o,d}angular.module("app").factory("APIWithDrawService",i),i.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}(),function(i){"use strict";function e(i,e,t,a,s,c,n,o,r,d,l,v,u,g,p,m,f,h,b,y,E,A,k,w,R,S,O,_,C,x,I,D,M,P,$,T,L,N,B){return{access:i,areacode:e,article:t,auth:{base:a,"default":s,mobile:c,social:n,web:o},banner:r,brand:d,cardpage:l,cart:v,cashgift:u,category:g,config:p,consignee:m,coupon:f,invoice:h,message:b,notice:y,order:E,payment:A,product:k,push:w,recommend:R,region:S,review:O,score:_,search:C,shipping:x,shop:I,site:D,splash:M,theme:P,user:$,version:T,bonus:L,balance:N,withdraw:B}}function t(i,e,t,a,s){this.$http=i,this.$q=e,this.$timeout=t,this.CacheFactory=a,this.name=s,this.cache=this.CacheFactory.get(this.name),this.cache||(this.cache=this.CacheFactory.createCache(s,{deleteOnExpire:"aggressive",recycleFreq:6e4,maxAge:6e5}))}angular.module("app").factory("API",e),e.$inject=["APIAccessService","APIAreacodeService","APIArticleService","APIAuthBaseService","APIAuthDefaultService","APIAuthMobileService","APIAuthSocialService","APIAuthWebService","APIBannerService","APIBrandService","APICardpageService","APICartService","APICashgiftService","APICategoryService","APIConfigService","APIConsigneeService","APICouponService","APIInvoiceService","APIMessageService","APINoticeService","APIOrderService","APIPaymentService","APIProductService","APIPushService","APIRecommendService","APIRegionService","APIReviewService","APIScoreService","APISearchService","APIShippingService","APIShopService","APISiteService","APISplashService","APIThemeService","APIUserService","APIVersionService","APIBonusService","APIBalanceService","APIWithDrawService"],
angular.module("app").constant("ENUM",{ERROR_CODE:{OK:0,UNKNOWN_ERROR:1e4,TOKEN_INVALID:10001,TOKEN_EXPIRED:10002,SIGN_INVALID:10003,SIGN_EXPIRED:10004},SORT_KEY:{DEFAULT:0,PRICE:1,POPULAR:2,CREDIT:3,SALE:4,DATE:5},SORT_VALUE:{DEFAULT:0,ASC:1,DESC:2},SOCIAL_VENDOR:{UNKNOWN:0,WEIXIN:1,WEIBO:2,QQ:3,TAOBAO:4},CARDGROUP_LAYOUT:{A1H:"A1H",A1S:"A1S",A2H:"A2H",A2S:"A2S",A2XS:"A2XS",A2XH:"A2XH",A2XXH:"A2XXH",A3XH:"A3XH",A3H:"A3H",A3S:"A3S",A4H:"A4H",A4S:"A4S",A5H:"A5H",A5S:"A5S",B1L:"B1L",B1R:"B1R",B2L:"B2L",B2R:"B2R",B3L:"B3L",B3R:"B3R",B4L:"B4L",B4R:"B4R",B5L:"B5L",B5R:"B5R",C1H:"C1H",C1S:"C1S",C2:"C2",C3:"C3"},CARD_STYLE:{V1T:"V1T",V1B:"V1B",V2T:"V2T",V2B:"V2B",H1L:"H1L",H1R:"H1R",H2L:"H2L",H2R:"H2R",Z1:"Z1",Z2:"Z2",Z3:"Z3",V3T:"V3T",V3B:"V3B",V4T:"V4T",V4B:"V4B",Z2P:"Z2P",Z2L:"Z2L"},CASHGIFT_STATUS:{AVAILABLE:0,EXPIRED:1,USED:2},PLATFORM_TYPE:{B2C:0,B2B2C:1},PLATFORM_VENDOR:{UNKNOWN:0,ECSHOP:1,ECSTORE:2,ECMALL:3,MAGENTO:4},COUPON_STATUS:{AVAILABLE:0,EXPIRED:1,USED:2},MESSAGE_TYPE:{SYSTEM:1,ORDER:2},ORDER_STATUS:{CREATED:0,PAID:1,DELIVERING:2,DELIVERIED:3,FINISHED:4,CANCELLED:5},ORDER_GRADE:{BAD:1,MEDIUM:2,GOOD:3},PRODUCT_ACTIVITY_STATUS:{PREPARING:0,ONGOING:1,FINISHED:2},REVIEW_GRADE:{ALL:0,BAD:1,MEDIUM:2,GOOD:3},SCORE_STATUS:{INCOME:1,EXPENDITURE:2},KEYWORD_TYPE:{PRODUCT:1,SHOP:2},PROFILE_GENDER:{UNKNOWN:0,MALE:1,FEMALE:2},BONUS_STATUS:{WAIT:0,FINISH:1,CANCEL:2,REVOKE:3},BONUS_TYPE:{SIGNUP:0,ORDER:1},WITHDRAW_STATUS:{WAIT:0,FINISH:1,CANCEL:2,FAILED:3},BALANCE_STATUS:{IN:1,OUT:2}}).run(["$rootScope","ENUM",function(i,e){i.ENUM=e}]),t.prototype.readCache=function(i){if(!this.cache)return null;var e=i,t=this.cache.get(e);return GLOBAL_CONFIG.DEBUG&&console.log("[Cache] Read '"+this.name+"'"),t},t.prototype.writeCache=function(i,e){if(this.cache){var t=i,a=e;GLOBAL_CONFIG.DEBUG&&console.log("[Cache] Write '"+this.name+"'"),this.cache.put(t,a)}},t.prototype.deleteCache=function(i){if(this.cache){var e=i;GLOBAL_CONFIG.DEBUG&&console.log("[Cache] Delete '"+this.name+"'"),this.cache.remove(e)}},t.prototype.clearCache=function(){this.cache&&(GLOBAL_CONFIG.DEBUG&&console.log("[Cache] Clear all"),this.cache.removeAll())},t.prototype.fetch=function(i,e,t,a){if(i){var s=this,c=i;if(e)for(var n in e)c+="|"+n+":"+e[n];if(t){var o=this.readCache(c);if(o&&o.length){var r=this.$q.defer();return this.$timeout(function(){r.resolve(o)},1),r.promise}}return this.$http.post(i,e).then(function(i){var e="function"==typeof a?a(i):i;return t&&s.writeCache(c,e),e})}},i.APIEndpoint=t}(this),function(){"use strict";function i(i,e){function t(){var e=this;return i.config.get().then(function(i){return e.config=i.config,a(i.config),i.config})}function a(i){var t=new Date;t.setDate(t.getDate()+7),e.putObject("c",i,{expires:t})}function s(){if(this.config)return this.config;try{this.config=e.getObject("c")}catch(i){e.remove("c")}return this.config}var c={};try{c.config=e.getObject("c")}catch(n){e.remove("c")}return c.fetch=t,c.getConfig=s,c}angular.module("app").factory("ConfigModel",i),i.$inject=["API","$cookies"]}(),function(){"use strict";function i(i,e,t,a,s,c,n){function o(i){var e=[];if("string"==typeof i)return'"'+i.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if("object"==typeof i){if(i.sort){for(var t=0;t<i.length;t++)e.push(o(i[t]));e="["+e.join()+"]"}else{for(var t in i)e.push(t+":"+o(i[t]));document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(i.toString)&&e.push("toString:"+i.toString.toString()),e="{"+e.join()+"}"}return e}return i.toString()}function r(i){var e=n.getOpenId(),t={order:i,code:"wxpay.web",openid:e};return s.pay(t).then(function(i){if(i&&i.data&&i.data.wxpay){var e=i.data;return GLOBAL_CONFIG.DEBUG&&c.toast(JSON.stringify(e)),wx.chooseWXPay({timestamp:e.wxpay.timestamp.toString(),nonceStr:e.wxpay.nonce_str,"package":e.wxpay.packages,signType:"MD5",paySign:e.wxpay.sign,success:function(i){if(GLOBAL_CONFIG.DEBUG){var e=o(i);c.toast(e)}return"chooseWXPay:ok"==i.errMsg?c.$emit("onPaySuccess",i.errMsg):c.$emit("onPayFailed",i.errMsg),!0},cancel:function(i){GLOBAL_CONFIG.DEBUG&&c.toast(JSON.stringify(i)),c.$emit("onPayFailed",i.errMsg)},fail:function(i){c.$emit("onPayFailed",i.errMsg),GLOBAL_CONFIG.DEBUG&&c.toast(JSON.stringify(i))}})}return!1})}var d={};return d.pay=r,d}angular.module("app").factory("WeixinService",i),i.$inject=["$http","$location","$q","CONSTANTS","APIPaymentService","$rootScope","AppAuthenticationService"]}(),function(){"use strict";angular.module("app").filter("formatNickname",function(){return function(i){return i}})}(),function(){"use strict";angular.module("app").filter("localTime",function(){return function(i){var e=function(i,e){var t=new Date(i),a=function(i){return(10>i?"0":"")+i};return e.replace(/yyyy|MM|dd|HH|mm|ss/g,function(i){switch(i){case"yyyy":return a(t.getFullYear());case"MM":return a(t.getMonth()+1);case"mm":return a(t.getMinutes());case"dd":return a(t.getDate());case"HH":return a(t.getHours());case"ss":return a(t.getSeconds())}})};return e(1e3*parseInt(i),"yyyy-MM-dd HH:mm:ss")}})}(),function(){"use strict";angular.module("app").filter("trustHtml",["$sce","$injector","$log",function(i,e,t){return function(e){return i.trustAsHtml(e)}}])}(),function(){"use strict";angular.module("app").directive("uiBack",["$window",function(i){return{restrict:"EA",link:function(i,e,t){e.click(function(){window.history.go(-1)})}}}])}(),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(i,e){return{restrict:"AC",template:'<span class="bar"></span>',link:function(i,e,t){function a(){e.addClass("butterbar active")}function s(){e.removeClass("hide").addClass("active")}function c(){e.addClass("hide").removeClass("active")}a(),i.$on("$stateChangeStart",function(i){s()}),i.$on("$stateChangeSuccess",function(i,e,t,a){i.targetScope.$watch("$viewContentLoaded",function(){c()})}),i.$watch("activeCalls",function(i,e){0==i?c():s()})}}}]),function(){"use strict";angular.module("app").directive("uiFocus",function(i,e){return{link:function(t,a,s){var c=e(s.uiFocus);t.$watch(c,function(e){e===!0&&i(function(){a[0].focus()})}),a.bind("blur",function(){t.$apply(c.assign(t,!1))})}}})}(),function(){"use strict";angular.module("app").directive("uiScrollTo",["$location","$anchorScroll",function(i,e){return{restrict:"AC",link:function(t,a,s){a.on("click",function(t){i.hash(s.uiScrollTo),e()})}}}])}(),function(){"use strict";angular.module("app").directive("uiToggleClass",["$timeout","$document",function(i,e){return{restrict:"AC",link:function(i,e,t){e.on("click",function(i){function a(i,e){for(var t=new RegExp("\\s"+i.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),a=" "+$(e)[0].className+" ";t.test(a);)a=a.replace(t," ");$(e)[0].className=$.trim(a)}i.preventDefault();var s=t.uiToggleClass.split(","),c=t.target&&t.target.split(",")||Array(e),n=0;angular.forEach(s,function(i){var e=c[c.length&&n];-1!==i.indexOf("*")&&a(i,e),$(e).toggleClass(i),n++}),$(e).toggleClass("active")})}}}])}(),function(){"use strict";angular.module("app").directive("uiValidInput",[function(){return{restrict:"A",require:"?ngModel",link:function(i,e,t,a){function s(i){if(angular.isString(i)){var e=!0;e&&c.max&&(e=i.length<=c.max),e&&c.min&&(e=i.length>=c.min),e&&n&&(e=n.test(i)),a.$setValidity(t.name,e)}}if(a){var c=i.$eval(t.uiValidInput),n=c.pattern;angular.isString(n)&&n.length>0&&(n=new RegExp("^"+n+"$"));var o=null;e.bind("compositionstart",function(){o=!0}),e.bind("compositionend",function(){o=!1}),i.$watch(t.ngModel,function(i,e){null!=o&&0!=o||s(i)})}}}}])}(),function(){"use strict";angular.module("app").directive("uiValidLink",["LinksService",function(i){return{restrict:"A",require:"?ngModel",link:function(e,t,a,s){function c(t){if(t){var c=i.parseLink(t);e.$evalAsync(function(){s.$setValidity(a.name,c.valid)})}}s&&e.$watch(a.ngModel,function(i,e){c(i)})}}}])}(),angular.module("app").run(["$templateCache",function(i){i.put("modules/address-edit/address-edit.html",'<div class="app-container with-navbar with-tabbar" ng-controller="AddressEditController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">收货地址</div><div class="navbar-right"></div></div><!-- Form --><div class="address-form"><div class="form-item"><div class="item-title">联系姓名</div><div class="item-input"><input type="text" placeholder="填写姓名" ng-model="name"></div></div><div class="form-item"><div class="item-title">联系电话</div><div class="item-input"><input type="text" placeholder="填写手机号" ng-model="mobile"></div></div><div class="form-item" ng-click="touchPickerShow()"><div class="item-title">所在地区</div><div class="item-select" ng-if="!regions">省、市、区</div><div class="item-value" ng-if="regions">{{formatRegions(regions)}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item"><div class="item-title">详细地址</div><div class="item-textarea"><textarea type="text" placeholder="填写详细地址" ng-model="address"></textarea></div></div><!-- <div class="form-item" ng-class="{active: isDefault}" ng-click="touchSetDefault()">\r\n        <div class="item-title">\r\n          设置默认\r\n        </div>\r\n        <div class="item-checkbox"></div>\r\n      </div> --></div><!-- Picker --><div class="address-mask" ng-show="showPicker" ng-animate="{enter: \'mask-anim-enter\', leave: \'mask-anim-leave\'}" ng-click="touchPickerCancel()"></div><div class="address-picker" ng-show="showPicker" ng-animate="{enter: \'picker-anim-enter\', leave: \'picker-anim-leave\'}"><div class="picker-header">{{pickerRegionName || \'请选择地区\'}}</div><div class="picker-list"><div class="list-loading" ng-if="addressEditModel.isLoading">正在加载...</div><div class="list-item" ng-repeat="region in pickerData track by $index" ng-click="touchPickerRegion(region)" ng-if="pickerData && pickerData.length">{{region.name}} <img class="item-arrow" src="image/nav-right.png" ng-if="region.regions && region.regions.length"></div></div><div class="picker-cancel" ng-click="touchPickerCancel()">取消</div></div><!-- Submit --><div class="address-action"><div class="bar-cancel" ng-click="touchCancel()">取消</div><div class="bar-save" ng-click="touchSave()">保存</div></div><!-- Submit --><div class="address-bar" ng-if="addressEditModel.consignee"><div class="bar-delete" ng-click="touchDelete()">删除地址</div></div></div>'),i.put("modules/address-select/address-select.html",'<div class="app-container with-navbar with-tabbar" ng-controller="AddressSelectController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">选择地址</div><div class="navbar-right"></div></div><div class="app-content"><!-- Address --><div class="address-list" ng-if="addressSelectModel.consignees && addressSelectModel.consignees.length"><div class="list-item" ng-class="{active: selectedId == consignee.id}" ng-repeat="consignee in addressSelectModel.consignees track by $index" ng-click="touchConsignee(consignee)"><div class="item-checkbox"></div><div class="item-info"><div class="info-contact">{{consignee.name}} {{consignee.mobile}}<!-- <span class="contact-default" ng-if="consignee.is_default">默认</span> --></div><div class="info-detail"><span ng-repeat="value in consignee.regions track by $index">{{value.name}} </span>{{consignee.address}}</div><div class="submit-select" ng-class="{active: isDefaultAddress(consignee)}" ng-click="touchDefaultAddress(consignee)"><div class="select-checkbox"></div>设置默认</div></div><div class="item-edit" ng-click="touchModify(consignee)"><img src="image/ind-edit.png"></div></div></div><div class="address-bar fixed-bottom"><div class="bar-create" ng-click="touchCreate()">添加收货地址</div></div></div></div>'),i.put("modules/alipay-wap/alipay-wap.html",'<div class="app-container with-navbar"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">支付宝支付</div></div><div class="app-content"><!--<div class="empty" ng-if="!alipay_html">--><!--<div class="empty-item">--><!--<div class="item-text">正在处理，请稍候...</div>--><!--</div>--><!--</div>--><div ng-bind-html="alipay_html"></div></div></div>'),i.put("modules/article/article.html",'<div class="app-container with-navbar with-tabbar" ng-controller="ArticleController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">{{title}}</div></div><div class="app-content"><div class="profile-item" ng-repeat="article in articles track by $index" ng-click="touchArticle(article)"><img class="item-icon" src="image/icon-article.png"><div class="item-name">{{article.title}}</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div></div></div>'),i.put("modules/balance-history/balance-history.html",'<div class="app-container with-navbar with-tabbar" ng-controller="BalanceHistoryController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goProfile()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">资金明细</div><div class="navbar-right"></div></div><div class="app-content" infinite-scroll="myBalanceModel.loadMore()"><div class="score-filter"><div class="filter-item" ng-class="{active: currentTab == TAB_ALL}" ng-click="touchTabAll()"><span class="text">全部</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_INCOME}" ng-click="touchTabIncome()"><span class="text">收入</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_EXPENDITURE}" ng-click="touchTabExpenditure()"><span class="text">支出</span></div></div><!-- Score History --><div class="balance-list" ng-if="myBalanceModel.balances && myBalanceModel.balances.length"><div class="list-item" ng-repeat="balance in myBalanceModel.balances track by $index"><div class="item-info"><div class="info_header"><div class="info-name" ng-if="balance.status == 1">{{\'+\'+balance.price | currency:""}}</div><div class="info-name" ng-if="balance.status == 2">{{\'-\'+balance.price | currency:""}}</div><div class="info-value-income" ng-if="balance.status == 1">收入</div><div class="info-value-out" ng-if="balance.status == 2">支出</div></div><div class="info-memo">{{balance.memo}}</div><div class="info-expires">{{balance.create_at|localTime}}</div></div></div></div><div class="empty" ng-if="myBalanceModel.isEmpty"><div class="empty-item"><div class="item-text">暂无任何记录</div></div></div><div class="loading-more" ng-if="myBalanceModel.isLoaded && myBalanceModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myBalanceModel.isLoaded && myBalanceModel.isLastPage">全部加载完毕</div></div></div>'),i.put("modules/bonus/bonus.html",'<div class="app-container with-navbar with-loader" ng-controller="BonusController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我的推荐</div><div class="navbar-right"><div class="button-text">推荐分成</div></div></div><div class="app-content" infinite-scroll="myBonusModel.loadMore()"><div class="bonus_header"><div class="money_header"><div class="recommend"><div class="bonus_recommend_title">已推荐</div><div class="bonus_amount">{{myBonusModel.bonus_info?myBonusModel.bonus_info.recommend_amount:0}}</div></div><div class="line"></div><div class="recommend"><div class="bonus_recommend_title">已分成</div><div class="bonus_amount">{{myBonusModel.bonus_info?myBonusModel.bonus_info.bonus_amount:0}}</div></div><div class="bonus_rules"><div class="name" ng-click="touchRules()">分成规则</div><img class="item-arrow" src="image/nav-right.png"></div></div><div class="horizontal-line"></div><div class="bonus_bottom"><div class="bonus_action_header" ng-click="touchMyBalance()"><div class="money">可用资金</div><img class="item-arrow" src="image/nav-right.png"></div><div class="line"></div><div class="bonus_action_header"><div class="money" ng-click="touchRecommend()">我推荐的会员</div><img class="item-arrow" src="image/nav-right.png"></div></div></div><div class="bonus-list" ng-if="myBonusModel.bonuses && myBonusModel.bonuses.length"><div class="list-item" ng-repeat="bonus in myBonusModel.bonuses track by $index"><div class="bonus" ng-click="touchBonus(bonus)"><div class="bonus_status_header"><div class="bonus_status" ng-if="bonus.status !=1">{{getBonusStatus(bonus.status)}}</div><div class="bonus_status_success" ng-if="bonus.status ==1">{{getBonusStatus(bonus.status)}}</div><div class="bonus_sn">订单号：{{bonus.order_sn}}</div></div><div class="horizontal-line"></div><div class="bonus_cash"><div class="bonus_title">现金</div><div class="bonus_detail">{{(bonus.cash?bonus.cash:0.00)|number:2}}</div></div><div class="line"></div><div class="bonus_cash"><div class="bonus_title">积分</div><div class="bonus_detail">{{bonus.score?bonus.score:0}}</div></div><div class="bonus_right"><div class="bonus_type">{{getBonusType(bonus.type)}}</div><div class="bonus_time">{{bonus.time|localTime}}</div></div></div></div></div></div><div class="empty" ng-if="myBonusModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-order-empty.png"><div class="item-text">暂无任何推荐订单</div></div></div><div class="loading-more" ng-if="myBonusModel.isLoaded && myBonusModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myBonusModel.isLoaded && myBonusModel.isLastPage">全部加载完毕</div><!-- Dialog --><div id="dialog" ng-show="showDialog"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认取消</div><div class="dialog-content">是否取消该订单</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div></div>'),i.put("modules/bonus-rule/bonus-rule.html",'<div class="app-container with-navbar"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">分成规则</div></div><div class="app-content"><!--<div class="empty" ng-if="!alipay_html">--><!--<div class="empty-item">--><!--<div class="item-text">正在处理，请稍候...</div>--><!--</div>--><!--</div>--><div ng-bind-html="rule_desc"></div></div></div>'),i.put("modules/cart/cart.html",'<div class="app-container with-navbar with-tabbar" ng-controller="CartController"><div class="navbar fixed-top"><div class="navbar-left"></div><div class="navbar-title">购物车（{{cartModel.total}}）</div><div class="navbar-right"></div></div><!-- Cart item --><div class="app-content"><div class="cart-list" ng-if="cartModel.isLoaded" ng-repeat="group in cartModel.groups track by $index"><div class="list-item" ng-class="{active: isSelected(goods)}" ng-repeat="goods in group.goods track by $index"><div class="item-checkbox" ng-click="touchSelect(goods)"></div><div class="item-photo" ng-click="touchProduct(goods.product)"><img ng-src="{{goods.product.default_photo.large}}"></div><div class="item-info"><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-price">￥{{goods.price | number:2}}</div><div class="info-amount"><div class="amount-button" ng-class="{active: goods.amount > 1}" ng-click="touchAmountSub(goods)"><img src="image/ind-sub.png"></div><div class="amount-count" ng-class="{active: goods.amount > 0}">{{goods.amount}}</div><div class="amount-button" ng-class="{active: goods.amount > 0}" ng-click="touchAmountAdd(goods)"><img src="image/ind-add.png"></div></div><div class="info-delete" ng-click="touchDelete(goods)"><img src="image/ind-delete.png"></div></div></div></div><!-- Submit --><div class="cart-submit" ng-if="cartModel.isLoaded && !cartModel.isEmpty"><div class="submit-select" ng-class="{active: isSelectedAll}" ng-click="touchSelectAll()"><div class="select-checkbox"></div>全选</div><div class="submit-total" ng-class="{active: selectedGoods && selectedGoods.length}"><span class="total-price">{{selectedPrice | currency:"￥"}}</span></div><div class="submit-button dark" ng-class="{active: selectedGoods && selectedGoods.length}" ng-click="touchSubmit()">结算（{{selectedAmount}}）</div></div><!-- Dialog --><div id="dialog" ng-show="showDialog" ng-if="cartModel.isLoaded"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认删除</div><div class="dialog-content">是否要删除选中商品</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div><div class="empty" ng-if="cartModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/icon-cart-empty.png"><div class="item-text">您的购物车是空的</div><div class="item-button" ng-click="goHome()">随便逛逛</div></div></div><div class="tabbar fixed-bottom"><div class="tab" ng-click="goHome()"><img class="tab-icon" src="image/tab-home-normal.png"></div><div class="tab" ng-click="goCategory()"><img class="tab-icon" src="image/tab-category-normal.png"></div><div class="tab active" ng-click="goCart()"><img class="tab-icon" src="image/tab-cart-active.png"><div class="tab-badge" ng-if="cartModel.total > 0">{{cartModel.total}}</div></div><div class="tab" ng-click="goProfile()"><img class="tab-icon" src="image/tab-profile-normal.png"></div></div></div></div>'),i.put("modules/cart-select/cart-select.html",'<div class="app-container with-navbar" ng-controller="CartController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">购物车（{{cartModel.total}}）</div><div class="navbar-right"></div></div><!-- Cart item --><div class="app-content"><div class="cart-list" ng-if="cartModel.isLoaded" ng-repeat="group in cartModel.groups track by $index"><div class="list-item" ng-class="{active: isSelected(goods)}" ng-repeat="goods in group.goods track by $index"><div class="item-checkbox" ng-click="touchSelect(goods)"></div><div class="item-photo" ng-click="touchProduct(goods.product)"><img ng-src="{{goods.product.default_photo.large}}"></div><div class="item-info"><div class="info-delete" ng-click="touchDelete(goods)"><img src="image/ind-delete.png"></div><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-price">{{goods.price| currency:"￥"}}</div><div class="info-amount"><div class="amount-button" ng-class="{active: goods.amount > 1}" ng-click="touchAmountSub(goods)"><img src="image/ind-sub.png"></div><div class="amount-count" ng-class="{active: goods.amount > 0}">{{goods.amount}}</div><div class="amount-button" ng-class="{active: goods.amount > 0}" ng-click="touchAmountAdd(goods)"><img src="image/ind-add.png"></div></div></div></div></div><!-- Submit --><div class="cart-submit" ng-if="cartModel.isLoaded && !cartModel.isEmpty"><div class="submit-select" ng-class="{active: isSelectedAll}" ng-click="touchSelectAll()"><div class="select-checkbox"></div>全选</div><div class="submit-total" ng-class="{active: selectedGoods && selectedGoods.length}"><span class="total-price">{{selectedPrice| currency:"￥"}}</span></div><div class="submit-button dark" ng-class="{active: selectedGoods && selectedGoods.length}" ng-click="touchSubmit()">结算（{{selectedAmount}}）</div></div><!-- Dialog --><div id="dialog" ng-show="showDialog" ng-if="cartModel.isLoaded"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认删除</div><div class="dialog-content">是否要删除选中商品</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div><div class="empty" ng-if="cartModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/icon-cart-empty.png"><div class="item-text">您的购物车是空的</div><div class="item-button" ng-click="goHome()">随便逛逛</div></div></div></div></div>'),i.put("modules/category/category.html",'<div class="app-container with-navbar with-tabbar" ng-controller="CategoryController"><div class="navbar fixed-top"><div class="search" ng-click="touchSearch()"><img class="search-icon" src="image/ind-search.png"> <span class="search-text">请输入您要搜索的商品</span></div></div><div class="app-content"><div class="category-side" ng-if="categories && categories.length"><div class="side-item" ng-class="{active: selectedSide.id == item.id}" ng-repeat="item in categories track by $index" ng-click="touchSide(item)">{{item.name}}</div></div><div class="category-main" ng-if="categories && categories.length"><div class="main-item" ng-click="touchMain()">全部</div><div class="main-item" ng-repeat="item in subCategories track by $index" ng-click="touchMain(item)">{{item.name}}</div></div></div><div class="tabbar fixed-bottom"><div class="tab" ng-click="goHome()"><img class="tab-icon" src="image/tab-home-normal.png"></div><div class="tab active" ng-click="goCategory()"><img class="tab-icon" src="image/tab-category-active.png"></div><div class="tab" ng-click="goCart()"><img class="tab-icon" src="image/tab-cart-normal.png"><div class="tab-badge" ng-if="cartModel.total > 0">{{cartModel.total}}</div></div><div class="tab" ng-click="goProfile()"><img class="tab-icon" src="image/tab-profile-normal.png"></div></div></div>'),i.put("modules/cashgift-select/cashgift-select.html",'<div class="app-container with-navbar with-tabbar" ng-controller="CashgiftSelectController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">选择红包</div><div class="navbar-right"></div></div><!-- Cashgift --><div class="app-content" infinite-scroll="cashgiftSelectModel.loadMore()"><div class="cashgift-list" ng-if="cashgiftSelectModel.isLoaded"><div class="list-item" ng-class="{active: !selectedId}" ng-click="touchClear()"><div class="item-checkbox"></div><div class="item-tips">不使用红包</div></div></div><!-- Cashgift --><div class="cashgift-list" ng-if="cashgiftSelectModel.cashgifts && cashgiftSelectModel.cashgifts.length"><div class="list-item" ng-class="{active: selectedId == cashgift.id}" ng-repeat="cashgift in cashgiftSelectModel.cashgifts track by $index" ng-click="touchCashgift(cashgift)"><div class="item-checkbox"></div><div class="item-info"><div class="info-name">{{cashgift.name}}</div><div class="info-condition">满￥{{cashgift.condition}}可使用</div><div class="info-expires">有效期：{{cashgift.expires | localTime}}</div></div><div class="item-value">￥<em>{{cashgift.value}}</em></div></div></div><div class="empty" ng-if="cashgiftSelectModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-cashgift-empty.png"><div class="item-text">暂无任何可用红包</div></div></div><div class="loading-more" ng-if="cashgiftSelectModel.isLoaded && cashgiftSelectModel.isLoading">正在加载...</div><div class="loading-more" ng-if="cashgiftSelectModel.isLoaded && cashgiftSelectModel.isLastPage">全部加载完毕</div><div class="cashgift-bar fixed-bottom"><div class="bar-confirm active" ng-click="touchConfirm()">确认</div></div></div></div>'),i.put("modules/change-password/change-password.html",'<div class="app-container with-navbar" ng-controller="ChangePasswordController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">取消</div></div><div class="navbar-title">修改密码</div></div><div class="app-content"><div class="changepass-form"><div class="changepass-field"><input type="password" class="field-input" placeholder="请输入当前密码" ng-model="oldPassword"></div><div class="changepass-hline"></div><div class="changepass-field"><input type="password" class="field-input" placeholder="请输入新密码" ng-model="newPassword"></div><div class="changepass-hline"></div><div class="changepass-field"><input type="password" class="field-input" placeholder="确认新密码" ng-model="newPassword2"></div></div><div class="changepass-submit" ng-click="touchChangePassword()">保存</div></div></div>'),i.put("modules/comment/comment.html",'<div class="app-container with-navbar with-tabbar" ng-controller="CommentController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">全部评价</div></div><div class="app-content" infinite-scroll="loadMore()"><!-- Header --><div class="comment-header"><div class="header-item" ng-class="{active: currentTab == TAB_ALL}" ng-click="touchTabAll()"><span>全部</span></div><div class="header-item" ng-class="{active: currentTab == TAB_GOOD}" ng-click="touchTabGood()"><span>好评</span></div><div class="header-item" ng-class="{active: currentTab == TAB_MEDIUM}" ng-click="touchTabMedium()"><span>中评</span></div><div class="header-item" ng-class="{active: currentTab == TAB_BAD}" ng-click="touchTabBad()"><span>差评</span></div></div><!-- List --><div class="comment-list" ng-if="comments && comments.length"><div class="comment-item" ng-repeat="comment in comments track by $index" ng-click="touchComment(comment)"><div class="item-info"><span class="user">{{comment.is_anonymous ? \'匿名用户\' : comment.author.nickname}}</span> <span class="rate">{{formatGrade(comment.grade)}}</span> <span class="time">{{comment.created_at | localTime}}</span></div><div class="item-body">{{comment.content}}</div><div class="comment-line" ng-if="comment !== comments[comments.length-1]"></div></div></div><div class="empty" ng-if="isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-comment-empty.png"><div class="item-text">暂无任何评价</div></div></div><div class="loading-more" ng-if="isLoaded && isLoading">正在加载...</div><div class="loading-more" ng-if="isLoaded && isLastPage">全部加载完毕</div></div></div>'),i.put("modules/confirm-cart/confirm-cart.html",'<div class="app-container with-navbar with-tabbar" ng-controller="ConfirmCartController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">确认订单</div><div class="navbar-right"></div></div><!-- Address --><div class="confirm-address" ng-click="touchAddress()" ng-if="goods && goods.length"><div class="address-contact" ng-if="consignee">{{consignee.name}}&nbsp;{{consignee.mobile}}</div><div class="address-detail" ng-if="consignee"><span ng-repeat="value in consignee.regions track by $index">{{value.name}} </span>{{consignee.address}}</div><div class="address-create" ng-if="!consignee">请填写地址</div><img class="address-arrow" src="image/nav-right.png"></div><!-- Goods --><div class="confirm-goods" ng-if="goods && goods.length"><div class="goods-item" ng-repeat="goods in goods track by $index" ng-click="touchProduct(goods)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{goods.product.photos[0].large}}"></div><div class="item-info"><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-price">{{goods.price| currency:"￥"}}</div><div class="info-amount">x{{goods.amount}}</div></div></div></div><!-- Form --><div class="confirm-form" ng-if="goods && goods.length"><div class="form-item" ng-click="touchExpress()"><div class="item-title">配送方式</div><div class="item-value">{{express ? express.name + \'(\' + (express.fee | currency:"￥")+ \')\' : \'选择配送方式\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item" ng-click="touchInvoice()"><div class="item-title">发票类型</div><div class="item-value">{{invoiceType ? invoiceType.name : \'不开发票\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item" ng-click="touchCashgift()"><div class="item-title">使用红包</div><div class="item-value">{{cashgift ? \'￥\' + cashgift.value : \'不使用红包\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item" ng-if="scoreInfo"><div class="item-title">使用积分</div><div class="item-input"><input type="text" ng-class="{active: maxUseScore > 0}" placeholder="填写积分" ng-disabled="maxUseScore <= 0" ng-model="input.score" ng-change="refreshScore()"><div class="input-tips" ng-if="maxUseScore > 0">您当前可用 {{scoreInfo.score}} 积分，本订单最多可以使用{{maxUseScore}}积分，每积分抵扣 {{scoreInfo.rule}} 元</div><div class="input-tips" ng-if="maxUseScore <= 0">无可用积分</div></div></div><div class="form-item"><div class="item-textarea"><textarea type="text" placeholder="买家留言" ng-model="input.comment" ng-change="refreshComment()"></textarea></div></div></div><!-- Total --><div class="confirm-summury" ng-if="goods && goods.length"><div class="summury-total">订单总额 <span class="total-price">+ {{priceInfo.total_price | currency:"￥"}}</span></div><div class="summury-detail">商品总额 <span class="total-price">+ {{priceInfo.product_price | currency:"￥"}}</span></div><div class="summury-detail">运费金额 <span class="total-price">+ {{(priceInfo.shipping_price | currency:"￥")||( express.fee | currency:"￥")}}</span></div><div class="summury-detail" ng-repeat="promo in priceInfo.promos track by $index">{{ formatPromo(promo.promo) }} <span class="total-price">- {{promo.price | currency:"￥"}}</span></div></div><!-- Submit --><div class="confirm-submit" ng-if="goods && goods.length"><div class="submit-total"><div class="total-price">{{priceInfo.total_price | currency:"￥"}}</div><div class="total-discount">已优惠{{all_discount | currency:"￥"}}</div></div><div class="submit-button dark" ng-class="{active: canPurchase}" ng-click="touchSubmit()">提交订单并支付</div></div></div>'),
i.put("modules/confirm-delivery/confirm-delivery.html",'<div class="app-container with-navbar" ng-controller="ConfirmDeliveryController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">交易成功</div><div class="navbar-right"></div></div><div class="success-info"><img class="info-icon" src="image/logo-payment-success.png"><div class="info-text">交易成功！</div><div class="info-button" ng-click="touchDetail()">订单详情</div><div class="info-button" ng-click="touchComment()" ng-if="isDelivery">评价</div></div></div>'),i.put("modules/confirm-product/confirm-product.html",'<div class="app-container with-navbar with-tabbar" ng-controller="ConfirmController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">确认订单</div><div class="navbar-right"></div></div><!-- Address --><div class="confirm-address" ng-click="touchAddress()"><div class="address-contact" ng-if="consignee">{{consignee.name}}&nbsp;{{consignee.mobile}}</div><div class="address-detail" ng-if="consignee"><span ng-repeat="value in consignee.regions track by $index">{{value.name}} </span>{{consignee.address}}</div><div class="address-create danger" ng-if="!consignee">请填写地址</div><img class="address-arrow" src="image/nav-right.png"></div><!-- Goods --><div class="confirm-goods" ng-if="selectedGoods.length > 0"><div class="goods-item" ng-repeat="card_good in selectedGoods track by $index" ng-click="touchProduct(card_good)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{card_good.product.default_photo.large}}"></div><div class="item-info"><div class="info-name">{{card_good.product.name}}</div><div class="info-attr">{{card_good.property}}</div><div class="info-price">{{card_good.price| currency:"￥"}}</div><div class="info-amount">x{{card_good.amount}}</div></div></div></div><!-- Form --><div class="confirm-form" ng-if="selectedGoods && selectedGoods.length"><div class="form-item" ng-click="touchExpress()"><div class="item-title">配送方式</div><div class="item-value">{{express ? express.name + \'(\' + (express.fee | currency:"￥") + \')\' : \'选择配送方式\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item" ng-click="touchInvoice()"><div class="item-title">发票类型</div><div class="item-value">{{invoiceType ? invoiceType.name : \'不开发票\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item" ng-click="touchCashgift()"><div class="item-title">使用红包</div><div class="item-value">{{cashgift ? \'￥\' + cashgift.value : \'不使用红包\'}}</div><img class="item-arrow" src="image/nav-right.png"></div><div class="form-item"><div class="item-title">使用积分</div><div class="item-input"><input type="text" placeholder="填写积分" ng-class="{active: scoreInfo.score > 0}" ng-disabled="!scoreInfo.score" ng-model="input.score" ng-change="refreshScore()"><div class="input-tips" ng-if=" maxUseScore > 0">您当前可用 {{scoreInfo.score}} 积分，本订单最多可以使用{{maxUseScore}}积分，每积分抵扣 {{scoreInfo.rule}} 元</div><div class="input-tips" ng-if="maxUseScore <= 0">无可用积分</div></div></div><div class="form-item"><div class="item-textarea"><textarea type="text" placeholder="买家留言" ng-model="input.comment" ng-change="refreshComment()"></textarea></div></div></div><!-- Total --><div class="confirm-summury"><div class="summury-total">订单总额 <span class="total-price">+ {{priceInfo.total_price | currency:"￥"}}</span></div><div class="summury-detail">商品总额 <span class="total-price">+ {{priceInfo.product_price| currency:"￥"}}</span></div><div class="summury-detail">运费金额 <span class="total-price">+ {{(priceInfo.shipping_price | currency:"￥")||( express.fee | currency:"￥")}}</span></div><div class="summury-detail" ng-repeat="promo in priceInfo.promos track by $index">{{ formatPromo(promo.promo) }} <span class="total-price">- {{promo.price| currency:"￥"}}</span></div></div><!-- Submit --><div class="confirm-submit"><div class="submit-total"><div class="total-price">{{priceInfo.total_price| currency:"￥"}}</div><div class="total-discount">已优惠{{all_discount | currency:"￥"}}</div></div><div class="submit-button dark" ng-class="{active: canPurchase}" ng-click="touchSubmit()">提交订单并支付</div></div></div>'),i.put("modules/express-select/express-select.html",'<div class="app-container with-navbar" ng-controller="ExpressSelectController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">配送方式</div><div class="navbar-right"></div></div><div class="app-content"><!-- Express --><div class="express-list" ng-if="vendors && vendors.length"><div class="list-item" ng-class="{active: selectedId == vendor.id}" ng-repeat="vendor in vendors track by $index" ng-click="touchVendor(vendor)"><div class="item-checkbox"></div><div class="item-name">{{vendor.name}}</div><div class="item-price">{{vendor.fee | currency:"￥"}}</div></div></div></div></div>'),i.put("modules/forget/forget.html",'<div class="app-container with-navbar" ng-controller="ForgetController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">找回密码</div><div class="navbar-right"></div></div><div class="app-content"><div class="signup-filter"><div class="signup-item" ng-class="{active: currentTab == TAB_MOBILE}" ng-click="touchTabMobile()"><span class="text">手机号</span></div><div class="signup-item" ng-class="{active: currentTab == TAB_EMAIL}" ng-click="touchTabEmail()"><span class="text">邮箱</span></div></div><div ng-show="forgetMobile.show" ng-include="\'modules/forget/forgetMobile.html\'"></div><div ng-hide="forgetMobile.show" ng-include="\'modules/forget/forgetEmail.html\'"></div></div></div>'),i.put("modules/forget/forgetEmail.html",'<div class="app-container with-navbar" ng-controller="ForgetController"><div class="app-content" ng-if="!success"><div class="forget-form"><div class="forget-field"><input class="field-input" placeholder="请输入您的邮箱" ng-model="input.email"></div></div><div class="forget-tips">我们将发送密码修改链接到您绑定的邮箱</div><div class="forget-submit" ng-click="touchSendMail()">发送邮件</div></div><div class="app-content" ng-if="success"><div class="forget-email">密码修改链接已发送至</div><div class="forget-email">{{email}}</div><div class="forget-submit" ng-click="touchBackLogin()">去登录</div></div></div>'),i.put("modules/forget/forgetMobile.html",'<div class="signup-form"><div class="signup-field"><input type="text" onkeyup="(this.v=function(){this.value=this.value.replace(/[^0-9-]+/,\'\');}).call(this)" onblur="this.v()" class="field-input" placeholder="请输入手机号" ng-model="state.mobile"></div><div class="signup-hline"></div><div class="signup-field-code"><input type="text" onkeyup="(this.v=function(){this.value=this.value.replace(/[^0-9-]+/,\'\');}).call(this)" onblur="this.v()" class="field-input" placeholder="请输入手机验证码" ng-model="state.mobile_code"><div class="{{paraclass}}" ng-click="toucheMobileCode()">{{paracont}}</div></div></div><div class="signup-form"><div class="signup-field"><input type="password" class="field-input" placeholder="设置密码" ng-model="state.mobile_password"></div><div class="signup-hline"></div><div class="signup-field"><input type="password" class="field-input" placeholder="确认密码" ng-model="state.mobile_password2"></div></div><div class="signup-tips">6-20位数字/字母/符号</div><div class="signup-submit" ng-click="touchforgetMobile()">确定</div>'),i.put("modules/home/home.html",'<div class="app-container with-navbar with-tabbar" ng-controller="HomeController"><div class="navbar fixed-top"><div class="search" ng-click="touchSearch()"><img class="search-icon" ng-src="image/ind-search.png"> <span class="search-text">请输入您要搜索的商品</span></div></div><div class="app-content" infinite-scroll="loadMore()"><!-- Banner --><div class="home-banner swiper-container" ng-if="banners && banners.length"><div class="swiper-wrapper"><div class="banner-slide swiper-slide" ng-repeat="banner in banners track by $index" ng-click="touchBanner(banner)"><img ng-src="{{formatUrl(banner.photo.large) || \'image/default-photo.png\'}}" class="slide-image"></div></div><div class="swiper-pagination"></div></div><!-- Menu --><div class="home-menu" ng-if="banners && banners.length"><div class="menu-item" ng-click="goCategory()"><img class="item-icon" ng-src="image/home-category.png"><div class="item-text">分类</div></div><div class="menu-item" ng-click="goMyOrder()"><img class="item-icon" ng-src="image/home-order.png"><div class="item-text">订单</div></div><div class="menu-item" ng-click="goMyFavorite()"><img class="item-icon" ng-src="image/home-favorite.png"><div class="item-text">收藏</div></div><div class="menu-item" ng-click="goCart()"><img class="item-icon" ng-src="image/home-cart.png"><div class="item-text">购物车</div></div></div><!-- Notice --><div class="home-notice" ng-if="notices && notices.length"><img class="notice-icon" ng-src="image/home-notice.png"><div class="notice-vline"></div><div class="notice-slide swiper-container"><div class="swiper-wrapper"><div class="swiper-slide" ng-repeat="notice in notices track by $index" ng-click="touchNotice(notice)">{{notice.title}}</div></div></div></div><!-- Category --><!-- <div class="home-category" ng-if="categories && categories.length">\r\n            <div class="category-item" ng-repeat="category in categories track by $index" ng-click="touchCategory(category)">\r\n                <img class="item-photo" ng-src="image/default-photo.png" lazy-img="{{category.photo.large}}"/>\r\n                <div class="item-mask"></div>\r\n                <div class="item-text">{{category.name}}</div>\r\n            </div>\r\n        </div> --><!-- Editor Choices --><div class="home-product" ng-if="editorChoice && editorChoice.length"><div class="product-header" ng-click="touchEditorChoice()"><!-- <img class="header-arrow" ng-src="image/nav-right.png"/> --><div class="header-title">精品推荐</div></div><div class="product-item" ng-repeat="product in editorChoice track by $index"><div ng-click="touchProduct(product)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{product.default_photo.large}}"></div><div class="item-name">{{product.name || \'-\'}}</div><div class="item-price">{{product.current_price | currency:"￥"}}</div></div></div></div><!-- New arrival --><div class="home-product" ng-if="newArrival && newArrival.length"><div class="product-header" ng-click="touchNewArrival()"><!-- <img class="header-arrow" ng-src="image/nav-right.png"/> --><div class="header-title">新品上架</div></div><div class="product-item" ng-repeat="product in newArrival track by $index"><div ng-click="touchProduct(product)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{product.default_photo.large}}"></div><div class="item-name">{{product.name || \'-\'}}</div><div class="item-price">{{product.current_price | currency:"￥"}}</div></div></div></div><!-- Top sale --><div class="home-product" ng-if="topSale && topSale.length"><div class="product-header" ng-click="touchTopSale()"><!-- <img class="header-arrow" ng-src="image/nav-right.png"/> --><div class="header-title">销量排行</div></div><div class="product-item" ng-repeat="product in topSale track by $index"><div ng-click="touchProduct(product)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{product.default_photo.large}}"></div><div class="item-name">{{product.name || \'-\'}}</div><div class="item-price">{{product.current_price | currency:"￥"}}</div></div></div></div></div><div class="tabbar fixed-bottom"><div class="tab active" ng-click="goHome()"><img class="tab-icon" ng-src="image/tab-home-active.png"></div><div class="tab" ng-click="goCategory()"><img class="tab-icon" ng-src="image/tab-category-normal.png"></div><div class="tab" ng-click="goCart()"><img class="tab-icon" ng-src="image/tab-cart-normal.png"><div class="tab-badge" ng-if="cartModel.total > 0">{{cartModel.total}}</div></div><div class="tab" ng-click="goProfile()"><img class="tab-icon" ng-src="image/tab-profile-normal.png"></div></div></div>'),i.put("modules/invoice-select/invoice-select.html",'<div class="app-container with-navbar with-tabbar" ng-controller="InvoiceSelectController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">发票信息</div><div class="navbar-right"></div></div><!-- Type --><div class="invoice-type active" ng-if="types && types.length && contents && contents.length"><div class="type-title">发票类型</div><div class="type-button"><div class="button" ng-class="{active:selectedType.id == type.id}" ng-repeat="type in types" ng-click="touchType(type)">{{type.name}}<!-- <span ng-if="type.tax > 0">({{type.tax}}%)</span> --></div></div><!-- <div class="type-tips">\r\n        怕纸质发票丢失？试试电子发票吧！\r\n      </div> --></div><!-- Head --><div class="invoice-head" ng-class="{active: selectedType}" ng-if="types && contents"><div class="head-title">发票抬头</div><div class="head-input"><input type="text" placeholder="填写个人/公司名称" ng-disabled="noInvoice || !selectedType" ng-model="input.title"></div></div><!-- Detail --><div class="invoice-detail" ng-class="{active: selectedType}" ng-if="types && contents"><div class="detail-title">发票明细</div><div class="detail-item" ng-class="{active: selectedContent.id == content.id}" ng-repeat="content in contents" ng-click="touchContent(content)"><div class="item-radio"></div><div class="item-name">{{content.name}}</div></div></div><div class="invoice-detail active"><div class="detail-item" ng-class="{active: noInvoice}" ng-click="touchToggle()"><div class="item-checkbox"></div><div class="item-name">不要发票</div></div></div><div class="invoice-bar fixed-bottom"><div class="bar-confirm" ng-class="{active: selectedType && selectedContent}" ng-click="touchConfirm()">确认</div></div></div>'),i.put("modules/my-address/my-address.html",'<div class="app-container with-navbar with-tabbar" ng-controller="MyAddressController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goProfile()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">地址管理</div><div class="navbar-right"></div></div><div class="app-content"><!-- Address --><div class="address-list" ng-if="myAddressModel.consignees && myAddressModel.consignees.length"><div class="list-item readonly" ng-repeat="consignee in myAddressModel.consignees track by $index"><div class="item-info"><div class="info-contact">{{consignee.name}} {{consignee.mobile}}<!-- <span class="contact-default" ng-if="consignee.is_default">默认</span> --></div><div class="info-detail"><span ng-repeat="value in consignee.regions track by $index">{{value.name}} </span>{{consignee.address}}</div><div class="submit-select" ng-class="{active: isDefaultAddress(consignee)}" ng-click="touchDefaultAddress(consignee)"><div class="select-checkbox"></div>设置默认</div></div><div class="item-edit" ng-click="touchModify(consignee)"><img src="image/ind-edit.png"></div></div></div><div class="empty" ng-if="myAddressModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-express-empty.png"><div class="item-text">暂无任何地址</div></div></div><div class="loading-more" ng-if="myAddressModel.isLoaded && myAddressModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myAddressModel.isLoaded && myAddressModel.isLastPage">全部加载完毕</div><div class="address-bar fixed-bottom"><div class="bar-create" ng-click="touchCreate()">添加收货地址</div></div></div></div>'),i.put("modules/my-balance/my-balance.html",'<div class="app-container with-navbar" ng-controller="MyBalanceController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">可用资金</div></div><div class="app-content"><div class="balance-content"><div class="withdraw-header"><img class="balance-icon" src="image/e15_rmb.png"></div><div class="balance-title">可用资金</div><div class="balance-amount"><span class="balance-yuan">¥</span>{{balanceModel.balanceAmount}}</div><div class="withdraw" ng-click="touchWithDraw()">提现</div><div class="withdraw-history" ng-click="touchWithDrawHistory()">提现记录</div><div class="balance-detail" ng-click="touchBalanceDetail()">查看资金明细</div></div><!-- Dialog --><div id="dialog" ng-show="showDialog"><div class="mask" ng-click="touchDialogCancel()"></div><div class="withdraw-dialog"><div class="dialog-title">提现</div><div class="dialog-content"><div class="item-input"><div class="withdraw-title">提现金额</div><div class="withdraw-group"><div class="control-label">¥</div><input type="number" class="input_money" placeholder="" maxlength="10" ng-model="input.withdraw"></div><div class="horizontal-line"></div><div class="withdraw-money-header"><div class="input-tips">可提金额 ¥{{balanceModel.balanceAmount}}</div><div class="withdraw-all" ng-click="touchWithDrawAll()">全部提现</div></div><input type="text" class="input_memo" placeholder="填写银行名称和银行卡号" ng-model="input.memo"></div></div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div></div></div>'),i.put("modules/my-favorite/my-favorite.html",'<div class="app-container with-navbar with-tabbar" ng-controller="MyFavoriteController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我的收藏</div><div class="navbar-right"></div></div><!-- Favorite --><div class="app-content" infinite-scroll="myFavoriteModel.loadMore()"><div class="favorite-list" ng-if="myFavoriteModel.products && myFavoriteModel.products.length"><div class="list-item" ng-repeat="product in myFavoriteModel.products track by $index"><div class="item-photo" ng-click="touchProduct(product)"><img ng-src="{{product.default_photo.large}}"></div><div class="item-info"><div class="info-delete" ng-click="touchDelete(product)"><img src="image/ind-delete.png"></div><div class="info-name">{{product.name}}</div><div class="info-attr"><div class="info-text">销量：{{product.sales_count}}&nbsp;&nbsp;库存：{{product.good_stock}}</div></div><div class="info-price"><span class="price-shop">{{product.current_price| currency:"￥"}}</span> <span class="price-market">{{product.price| currency:"￥"}}</span></div></div></div></div><div class="empty" ng-if="myFavoriteModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-favorite-empty.png"><div class="item-text">暂无任何收藏</div></div></div><div class="loading-more" ng-if="myFavoriteModel.isLoaded && myFavoriteModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myFavoriteModel.isLoaded && myFavoriteModel.isLastPage">全部加载完毕</div></div></div>'),i.put("modules/my-cashgift/my-cashgift.html",'<div class="app-container with-navbar with-tabbar" ng-controller="MyCashgiftController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goProfile()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我的红包</div><div class="navbar-right"></div></div><div class="app-content" infinite-scroll="myCashgiftModel.loadMore()"><div class="cashgift-filter"><div class="filter-item" ng-class="{active: currentTab == TAB_AVAILABLE}" ng-click="touchTabAvailable()"><span class="text">未过期</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_EXPIRED}" ng-click="touchTabExpired()"><span class="text">已过期</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_USED}" ng-click="touchTabUsed()"><span class="text">已使用</span></div></div><!-- Cashgift --><div class="cashgift-list" ng-if="myCashgiftModel.cashgifts && myCashgiftModel.cashgifts.length"><div class="list-item readonly" ng-repeat="cashgift in myCashgiftModel.cashgifts track by $index"><div class="item-info"><div class="info-name">{{cashgift.name}}</div><div class="info-condition">满￥{{cashgift.condition}}可使用</div><div class="info-expires">有效期：{{cashgift.expires | localTime}}</div></div><div class="item-value">￥<em>{{cashgift.value}}</em></div></div></div><div class="empty" ng-if="myCashgiftModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-cashgift-empty.png"><div class="item-text">暂无任何红包</div></div></div><div class="loading-more" ng-if="myCashgiftModel.isLoaded && myCashgiftModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myCashgiftModel.isLoaded && myCashgiftModel.isLastPage">全部加载完毕</div></div></div>'),i.put("modules/my-order/my-order.html",'<div class="app-container with-navbar with-loader" ng-controller="MyOrderController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我的订单</div></div><div class="app-content" infinite-scroll="myOrderModel.loadMore()"><div class="order-filter"><div class="filter-item" ng-class="{active: currentTab == TAB_ALL}" ng-click="touchTabAll()"><span class="text">全部</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_CREATED}" ng-click="touchTabCreated()"><span class="text">待付款</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_PAID}" ng-click="touchTabPaid()"><span class="text">待发货</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_DELIVERING}" ng-click="touchTabDelivering()"><span class="text">待收货</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_DELIVERIED}" ng-click="touchTabDeliveried()"><span class="text">待评价</span></div></div><div class="order-list" ng-if="myOrderModel.orders && myOrderModel.orders.length"><div class="list-item" ng-repeat="order in myOrderModel.orders track by $index"><div class="item-header"><div class="header-sn">#{{order.sn}}</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.CREATED">等待买家付款</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.PAID">等待卖家发货</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING">等待买家收货</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERIED">交易成功</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.FINISHED">交易成功</div><div class="header-status" ng-if="order.status == ENUM.ORDER_STATUS.CANCELLED">交易取消</div></div><div class="order-goods" ng-click="touchOrder(order)"><div class="goods-item" ng-repeat="goods in order.goods track by $index"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{goods.product.photos[0].large}}"></div><div class="item-info"><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-price">{{goods.product_price| currency:"￥"}}</div><div class="info-amount">x{{goods.total_amount}}</div></div></div></div><div class="item-footer"><div class="footer-sum"><span class="sum">合计：{{order.total | currency:"￥"}} </span><span class="sum" ng-if="order.shipping && order.shipping.price">（运费：{{order.shipping.price | currency:"￥"}}）</span></div><div class="footer-button dark" ng-if="order.status == ENUM.ORDER_STATUS.CREATED" ng-click="touchPay(order)">付款</div><div class="footer-button" ng-if="order.status == ENUM.ORDER_STATUS.CREATED" ng-click="touchCancel(order)">取消订单</div><div class="footer-button dark" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING" ng-click="touchConfirm(order)">确认收货</div><div class="footer-button dark" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERIED" ng-click="touchComment(order)">评价</div><div class="footer-button" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING" ng-click="touchExpress(order)">查看物流</div><div class="footer-button" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERIED" ng-click="touchExpress(order)">查看物流</div><div class="footer-button" ng-if="order.status == ENUM.ORDER_STATUS.FINISHED" ng-click="touchExpress(order)">查看物流</div></div></div></div><div class="empty" ng-if="myOrderModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-order-empty.png"><div class="item-text">暂无任何订单</div></div></div><div class="loading-more" ng-if="myOrderModel.isLoaded && myOrderModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myOrderModel.isLoaded && myOrderModel.isLastPage">全部加载完毕</div><!-- Dialog --><div id="dialog" ng-show="showDialog"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认取消</div><div class="dialog-content">是否取消该订单</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div></div></div>'),i.put("modules/my-recommend/my-recommend.html",'<div class="app-container with-navbar" ng-controller="MyRecommendController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我推荐的会员</div></div><div class="app-content"><div class="balance-content"><div class="table-responsive" ng-if="myRecommendModel.bonus_info.rules.length"><table class="table"><thead><tr><th style="width:25%">等级</th><th style="width:25%">人数</th><th style="width:25%">积分分成</th><th style="width:25%">现金分成</th></tr></thead><tbody><tr ng-repeat="rule in myRecommendModel.bonus_info.rules track by $index"><td>{{rule.rank}}</td><td>{{rule.recommend_amount}}</td><td>{{rule.score_percentage}}</td><td>{{rule.price_percentage}}</td></tr></tbody></table></div><div class="empty" ng-if="myRecommendModel.bonus_info.rules.length == 0"><div class="empty-item"><img class="item-logo" ng-src="image/member_empty.png"><div class="item-text">您还没有推荐会员</div></div></div></div></div></div>'),i.put("modules/my-score/my-score.html",'<div class="app-container with-navbar with-tabbar" ng-controller="MyScoreController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goProfile()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">我的积分</div><div class="navbar-right"></div></div><div class="app-content" infinite-scroll="myScoreModel.loadMore()"><div class="score-header"><div class="header-title"><img src="image/ind-score.png"> 当前可用积分</div><div class="header-point">{{myScoreModel.score}}</div></div><div class="score-filter"><div class="filter-item" ng-class="{active: currentTab == TAB_ALL}" ng-click="touchTabAll()"><span class="text">全部</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_INCOME}" ng-click="touchTabIncome()"><span class="text">收入</span></div><div class="filter-item" ng-class="{active: currentTab == TAB_EXPENDITURE}" ng-click="touchTabExpenditure()"><span class="text">支出</span></div></div><!-- Score History --><div class="score-list" ng-if="myScoreModel.history && myScoreModel.history.length"><div class="list-item" ng-repeat="history in myScoreModel.history track by $index"><div class="item-info"><div class="info-name">{{history.reason}}</div><div class="info-value">{{history.change}}</div><div class="info-expires">{{history.created_at | localTime}}</div></div></div></div><div class="empty" ng-if="myScoreModel.isEmpty"><div class="empty-item"><div class="item-text">暂无任何记录</div></div></div><div class="loading-more" ng-if="myScoreModel.isLoaded && myScoreModel.isLoading">正在加载...</div><div class="loading-more" ng-if="myScoreModel.isLoaded && myScoreModel.isLastPage">全部加载完毕</div></div></div>'),i.put("modules/order-detail/order-detail.html",'<div class="app-container with-navbar with-tabbar" ng-controller="OrderDetailController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">订单详情</div></div><div class="app-content" ng-if="isLoaded"><!-- Status --><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.CREATED"><img ng-src="image/icon-order-light.png">等待买家付款</div><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.PAID"><img ng-src="image/icon-order-light.png">等待卖家发货</div><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING"><img ng-src="image/icon-order-light.png">等待买家收货</div><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERIED"><img ng-src="image/icon-order-light.png">交易成功</div><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.FINISHED"><img ng-src="image/icon-order-light.png">交易成功</div><div class="order-status" ng-if="order.status == ENUM.ORDER_STATUS.CANCELLED"><img ng-src="image/icon-order-light.png">交易取消</div><!-- Address --><div class="order-address"><div class="address-contact">{{order.consignee.name}} {{order.consignee.mobile || order.consignee.tel}}</div><div class="address-detail">{{order.consignee.regions}} &nbsp; {{order.consignee.address}}</div></div><!-- Goods --><div class="order-goods"><div class="goods-item" ng-repeat="goods in order.goods track by $index"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{goods.product.photos[0].large}}" ng-click="touchProduct(goods.product)"></div><div class="item-info"><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-price">{{goods.product_price| currency:"￥"}}</div><div class="info-amount">x{{goods.total_amount}}</div></div></div></div><!-- Total --><div class="order-summury"><div class="summury-detail">运费金额 <span class="total-price">+ {{order.shipping.price| currency:"￥"}}</span></div><div class="summury-detail" ng-repeat="promo in promos track by $index">{{ promo.name }} <span class="total-price">- {{promo.price| currency:"￥"}}</span></div><div class="summury-total">订单总价 <span class="total-price">= {{order.total| currency:"￥"}}</span></div></div><!-- Info --><div class="order-info"><div class="info-text">订单编号：#{{order.sn}}</div><div class="info-text">创建时间：{{order.created_at | localTime}}</div><div class="info-text" ng-if="order.updated_at">更新时间：{{order.updated_at | localTime}}</div><div class="info-text" ng-if="order.paied_at">支付时间：{{order.paied_at | localTime}}</div><div class="info-text" ng-if="order.shipping_at">发货时间：{{order.shipping_at | localTime}}</div><div class="info-text" ng-if="order.finish_at">完成时间：{{order.finish_at | localTime}}</div><div class="info-text" ng-if="order.canceled_at">取消时间：{{order.canceled_at | localTime}}</div></div><!-- Dialog --><div id="dialog" ng-show="showDialog"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认取消</div><div class="dialog-content">是否取消该订单</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div><!-- Submit --><div class="order-submit fixed-bottom"><div class="submit-button dark" ng-if="order.status == ENUM.ORDER_STATUS.CREATED" ng-click="touchPay()">付款</div><div class="submit-button" ng-if="order.status == ENUM.ORDER_STATUS.CREATED" ng-click="touchCancel()">取消订单</div><div class="submit-button dark" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING" ng-click="touchConfirm()">确认收货</div><div class="submit-button dark" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERIED" ng-click="touchComment()">评价</div><div class="submit-button" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING" ng-click="touchExpress()">查看物流</div><div class="submit-button" ng-if="order.status == ENUM.ORDER_STATUS.FINISHED" ng-click="touchExpress()">查看物流</div><div class="submit-button" ng-if="order.status == ENUM.ORDER_STATUS.DELIVERING" ng-click="touchExpress()">查看物流</div></div></div></div>'),
i.put("modules/order-express/order-express.html",'<div class="app-container with-navbar with-tabbar" ng-controller="OrderExpressController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">物流信息</div></div><div class="app-content"><div class="order-express"><div class="express-header"><div class="header-item"><span class="item-title">信息来源</span> <span class="item-content">{{orderExpressModel.info.vendor_name}}</span></div><div class="header-item"><span class="item-title">运单编号</span> <span class="item-content">{{orderExpressModel.info.code}}</span></div></div><div class="express-status" ng-if="orderExpressModel.info.status && orderExpressModel.info.status.length"><div class="status-item first" ng-repeat="status in orderExpressModel.info.status track by $index"><div class="item-title">{{status.content}}</div><div class="item-content">{{status.datetime}}</div><div class="item-vline"></div><div class="item-dot"></div></div></div></div></div></div>'),i.put("modules/order-review/order-review.html",'<div class="app-container with-navbar with-tabbar" ng-controller="OrderReviewController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">订单评价</div></div><div class="app-content" ng-if="isLoaded"><!-- Goods --><div class="review-goods"><div class="goods-item" ng-repeat="goods in order.goods track by $index"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{goods.product.default_photo.large}}"></div><div class="item-info"><div class="info-name">{{goods.product.name}}</div><div class="info-attr">{{goods.property}}</div><div class="info-grade" ng-click="touchGood(goods)"><img class="grade-icon" ng-src="image/face-smile-on.png" ng-if="ENUM.ORDER_GRADE.GOOD == goods.review.grade"> <img class="grade-icon" ng-src="image/face-smile-off.png" ng-if="ENUM.ORDER_GRADE.GOOD != goods.review.grade"> <span class="grade-name">好评</span></div><div class="info-grade" ng-click="touchMedium(goods)"><img class="grade-icon" ng-src="image/face-normal-on.png" ng-if="ENUM.ORDER_GRADE.MEDIUM == goods.review.grade"> <img class="grade-icon" ng-src="image/face-normal-off.png" ng-if="ENUM.ORDER_GRADE.MEDIUM != goods.review.grade"> <span class="grade-name">中评</span></div><div class="info-grade" ng-click="touchBad(goods)"><img class="grade-icon" ng-src="image/face-sad-on.png" ng-if="ENUM.ORDER_GRADE.BAD == goods.review.grade"> <img class="grade-icon" ng-src="image/face-sad-off.png" ng-if="ENUM.ORDER_GRADE.BAD != goods.review.grade"> <span class="grade-name">差评</span></div></div><div class="item-textarea"><textarea type="text" placeholder="请在此输入评价" ng-model="goods.review.content"></textarea></div></div></div><div class="review-anon" ng-class="{active: isAnonymous}" ng-click="touchSetAnonymous()"><div class="item-checkbox"></div><div class="item-title">匿名评论</div></div><div class="review-submit" ng-click="touchSubmit()">提交</div></div></div>'),i.put("modules/payment/payment.html",'<div class="app-container with-navbar with-tabbar" ng-controller="PaymentController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">收银台</div><div class="navbar-right"></div></div><div class="app-content"><div class="payment-header"><div class="header-title">订单 #{{paymentModel.order.sn}}，请您尽快付款。</div><div class="header-total">合计：<em>{{paymentModel.order.total | currency:"￥"}}</em></div></div><div class="payment-list" ng-if="paymentModel.isLoaded"><div class="list-item" ng-class="{active: isSelected(payment)}" ng-repeat="payment in paymentModel.types track by $index" ng-click="touchSelect(payment)"><div class="item-checkbox"></div><div class="item-content"><div class="content-desc">{{payment.desc}}</div><div class="content-title">{{payment.name}}</div></div></div></div><div class="payment-submit" ng-click="touchSubmit()" ng-if="paymentModel.types.length > 0">确认支付</div></div></div>'),i.put("modules/payment-failed/payment-failed.html",'<div class="app-container with-navbar" ng-controller="PaymentFailedController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">付款失败</div><div class="navbar-right"></div></div><div class="success-info"><img class="info-icon" src="image/logo-payment-failed.png"><div class="info-text">付款失败, {{reason || \'未知原因\'}}</div><div class="info-button" ng-click="touchDetail()">订单详情</div></div></div>'),i.put("modules/payment-success/payment-success.html",'<div class="app-container with-navbar" ng-controller="PaymentSuccessController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">付款成功</div><div class="navbar-right"></div></div><div class="success-info"><img class="info-icon" src="image/logo-payment-success.png"><div class="info-text">付款成功，卖家即将为您发货！</div><div class="info-button" ng-click="touchDetail()">订单详情</div></div></div>'),i.put("modules/product/product.html",'<div class="app-container with-navbar with-tabbar" ng-controller="ProductController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">商品详情</div></div><div class="app-content"><!-- Photo --><div class="product-flash swiper-container" ng-if="isLoaded && product"><div class="swiper-wrapper"><div class="flash-slide swiper-slide" ng-repeat="photo in product.photos track by $index" ng-click="touchPhoto(photo)"><img class="slide-image" ng-src="{{photo.large}}"></div><div class="flash-slide swiper-slide" ng-if="!product.photos || !product.photos.length"><img class="slide-image" ng-src="image/default-photo.png"></div></div><div class="swiper-pagination" ng-if="product.photos && product.photos.length > 1"></div></div><!-- Info --><div class="product-info" ng-if="isLoaded && product"><div class="info-name">{{product.name}}</div><div class="info-price"><span class="price-shop" ng-class="{danger: currentStock}">{{currentSelectedPrice| currency:"￥"}}</span> <span class="price-market">{{product.price| currency:"￥"}}</span></div><div class="info-favorite" ng-click="touchLike()"><img src="image/favorite-off.png" ng-if="!product.is_liked"> <img src="image/favorite-on.png" ng-if="product.is_liked"></div></div><!-- Attr --><div class="product-attr" ng-if="isLoaded && product && product.properties && product.properties.length && product.good_stock"><div class="attr-group" ng-repeat="property in product.properties track by $index"><div class="group-name">{{property.name}}</div><div class="group-items"><div class="group-item" ng-class="{active: isAttrSelected(value)}" ng-repeat="value in property.attrs track by $index" ng-click="touchAttr(property,value)">{{value.attr_name}} <span ng-if="value.attr_price > 0">(加{{value.attr_price| currency:"￥"}})</span></div></div><div class="attr-line" ng-if="attr !== product.attrs[product.attrs.length-1]"></div></div></div><!-- Amount --><div class="product-amount" ng-if="isLoaded && product && product.good_stock"><div class="amount-name">数量</div><div class="amount-input" ng-class="{active: canPurchase}"><div class="input-button" ng-class="{active: input.currentAmount > 1}" ng-click="touchAmountSub()"><img src="image/ind-sub.png"></div><input type="text" class="input-count" ng-class="{active: input.currentAmount > 0}" ng-model="input.currentAmount" ng-change="refreshAmount()"><div class="input-button" ng-class="{active: input.currentAmount > 0}" ng-click="touchAmountAdd()"><img src="image/ind-add.png"></div></div></div><!-- Comment --><div class="product-comment" ng-if="isLoaded && product && comments && comments.length"><div class="comment-header" ng-click="touchComments()"><img class="header-arrow" src="image/nav-right.png"><div class="header-title">商品评价（{{comments.length}}）</div></div><div class="comment-item" ng-repeat="comment in comments track by $index" ng-click="touchComment(comment)"><div class="item-info"><span class="user">{{comment.is_anonymous ? \'匿名用户\' : comment.author.nickname}}</span> <span class="rate">{{formatGrade(comment.grade)}}</span> <span class="time">{{comment.created_at | localTime}}</span></div><div class="item-body">{{comment.content}}</div><div class="comment-line" ng-if="comment !== comments[comments.length-1]"></div></div></div><!-- Introduction --><div class="product-intro" ng-if="isLoaded && product"><div class="intro-header">商品介绍</div><div class="intro-content" ng-bind-html="(product.goods_desc || \'没有产品详情\') | trustHtml"></div></div><!-- Submit --><div class="product-submit fixed-bottom" ng-if="isLoaded && product"><div class="submit-cart" ng-click="touchCart()"><img class="cart-icon" src="image/ind-cart.png"><div class="cart-badge" ng-if="cartModel.total > 0">{{cartModel.total}}</div></div><div class="submit-button" ng-class="{active: canPurchase}" ng-click="touchAddCart()">加入购物车</div><div class="submit-button dark" ng-class="{active: canPurchase}" ng-click="touchPurchase()">立即购买</div></div><!-- Tips --><div class="product-tips" ng-if="isLoaded && product && !product.good_stock">所选商品暂时无货，非常抱歉！</div></div></div>'),i.put("modules/profile/profile.html",'<div class="app-container with-navbar with-tabbar" ng-controller="ProfileController"><div class="navbar fixed-top"><div class="navbar-title">个人中心</div></div><div class="app-content"><div class="profile-head"><img class="head-avatar" ng-src="image/default-avatar.png" lazy-img="{{user.avatar.thumb}}"><div class="head-info" ng-click="touchSignin()"><div class="info-name">{{isSignIn() ? userName: \'点击登录\'}}</div><div class="info-grade" ng-if="isSignIn()">{{user.rank ? user.rank.name : \'默认等级\'}}</div></div></div><div class="profile-item" ng-click="touchAllOrders()"><img class="item-icon" src="image/icon-order.png"><div class="item-name">我的订单</div><div class="item-desc">查看全部订单</div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-menu"><div class="menu-item" ng-click="touchOrderCreated()"><img class="item-icon" src="image/status-created.png"><div class="item-badge" ng-if="cartModel.subtotal && cartModel.subtotal.created > 0">{{cartModel.subtotal.created}}</div><div class="item-text">待付款</div></div><div class="menu-item" ng-click="touchOrderPayed()"><img class="item-icon" src="image/status-paied.png"><div class="item-badge" ng-if="cartModel.subtotal && cartModel.subtotal.paid > 0">{{cartModel.subtotal.paid}}</div><div class="item-text">待发货</div></div><div class="menu-item" ng-click="touchOrderDelivering()"><img class="item-icon" src="image/status-delivering.png"><div class="item-badge" ng-if="cartModel.subtotal && cartModel.subtotal.delivering > 0">{{cartModel.subtotal.delivering}}</div><div class="item-text">待收货</div></div><div class="menu-item" ng-click="touchOrderDelivered()"><img class="item-icon" src="image/status-deliveried.png"><div class="item-badge" ng-if="cartModel.subtotal && cartModel.subtotal.deliveried > 0">{{cartModel.subtotal.deliveried}}</div><div class="item-text">待评价</div></div></div><div class="profile-item" ng-click="touchFav()"><img class="item-icon" src="image/icon-favorite.png"><div class="item-name">我的收藏</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchAddress()"><img class="item-icon" src="image/icon-address.png"><div class="item-name">收货地址</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchScore()"><img class="item-icon" src="image/icon-score.png"><div class="item-name">我的积分</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchCashGift()"><img class="item-icon" src="image/icon-cashgift.png"><div class="item-name">我的红包</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchBonus()" ng-if="authorize"><img class="item-icon" src="image/e0_recommend.png"><div class="item-name">我的推荐</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchBalance()" ng-if="authorize"><img class="item-icon" src="image/e0_balance.png"><div class="item-name">我的资金</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchHelps()"><img class="item-icon" src="image/icon-article.png"><div class="item-name">使用帮助</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-item" ng-click="touchPassword()" ng-if="!isWeixin()"><img class="item-icon" src="image/icon-article.png"><div class="item-name">修改密码</div><div class="item-desc"></div><img class="item-arrow" src="image/nav-right.png"></div><div class="profile-submit" ng-click="touchSignout()" ng-if="isSignIn()">退出登录</div><div class="tabbar fixed-bottom"><div class="tab" ng-click="goHome()"><img class="tab-icon" src="image/tab-home-normal.png"></div><div class="tab" ng-click="goCategory()"><img class="tab-icon" src="image/tab-category-normal.png"></div><div class="tab" ng-click="goCart()"><img class="tab-icon" src="image/tab-cart-normal.png"><div class="tab-badge" ng-if="cartModel.total > 0">{{cartModel.total}}</div></div><div class="tab active" ng-click="goProfile()"><img class="tab-icon" src="image/tab-profile-active.png"></div></div></div></div>'),i.put("modules/qq-auth/qq-auth.html",'<div class="app-container with-navbar"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">QQ登录</div></div><div class="app-content"><div class="empty"><div class="empty-item"><div class="item-text">正在处理，请稍候...</div></div></div></div></div>'),i.put("modules/review-success/review-success.html",'<div class="app-container with-navbar" ng-controller="ReviewSuccessController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">评价成功</div><div class="navbar-right"></div></div><div class="success-info"><img class="info-icon" src="image/logo-payment-success.png"><div class="info-text">评价成功！</div><div class="info-button" ng-click="touchToHome()">再去逛逛</div></div></div>'),i.put("modules/search/search.html",'<div class="app-container with-navbar" ng-controller="SearchController"><div class="navbar fixed-top"><div class="search-inline"><img class="search-icon" src="image/ind-search.png"><form ng-submit="touchSearch()"><input class="search-text" ng-model="currentKeyword" placeholder="请输入您要搜索的商品"></form></div><div class="search-cancel" ng-click="goBack()">取消</div></div><div class="app-content"><div class="search-header" ng-if="history && history.length"><img class="header-icon" src="image/ind-history.png"> 最近搜索</div><div class="search-keywords" ng-if="history && history.length"><div class="keyword" ng-repeat="keyword in history track by $index" ng-click="touchKeyword(keyword)">{{keyword}}</div></div><div class="search-header" ng-if="keywords && keywords.length"><img class="header-icon" src="image/ind-hot.png"> 热门搜索</div><div class="search-keywords" ng-if="keywords && keywords.length"><div class="keyword" ng-repeat="keyword in keywords track by $index" ng-click="touchKeyword(keyword.content)">{{keyword.content}}</div></div></div></div>'),i.put("modules/search-result/search-result.html",'<div class="app-container with-navbar" ng-controller="SearchResultController"><div class="navbar fixed-top" ng-if="navStyle == \'default\'"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">{{navTitle || \'搜索结果\'}}</div></div><div class="navbar fixed-top" ng-if="navStyle == \'search\'"><div class="search-inline"><img class="search-icon" ng-src="image/ind-search.png"><form ng-submit="touchSearch()"><input class="search-text" placeholder="请输入您要搜索的商品" ng-model="$parent.currentKeyword"></form></div><div class="search-cancel" ng-click="goBack()">取消</div></div><div class="app-content" infinite-scroll="loadMore()"><div class="search-filter"><div class="filter-item" ng-class="{active: currentSortKey == ENUM.SORT_KEY.DEFAULT}" ng-click="touchSortDefault()"><span class="text">综合</span></div><div class="filter-item" ng-class="{active: currentSortKey == ENUM.SORT_KEY.SALE}" ng-click="touchSortSale()"><span class="text">销量</span></div><div class="filter-item" ng-class="{active: currentSortKey == ENUM.SORT_KEY.DATE}" ng-click="touchSortDate()"><span class="text">新品</span></div><div class="filter-item" ng-class="{active: currentSortKey == ENUM.SORT_KEY.PRICE}" ng-click="touchSortPrice()"><span class="text">价格</span><div class="arrow"><img class="ind" ng-class="{active : currentSortKey == ENUM.SORT_KEY.PRICE && (currentSortValue == ENUM.SORT_VALUE.DEFAULT || currentSortValue == ENUM.SORT_VALUE.ASC)}" ng-src="image/ind-arrow-up.png"> <img class="ind" ng-class="{active : currentSortKey == ENUM.SORT_KEY.PRICE && (currentSortValue == ENUM.SORT_VALUE.DESC)}" ng-src="image/ind-arrow-down.png"></div></div><div class="filter-item" ng-class="{active: currentSortKey == ENUM.SORT_KEY.CREDIT}" ng-click="touchSortCredit()"><span class="text">信用</span></div></div><div class="search-product" ng-if="products && products.length"><div class="product-item" ng-repeat="product in products track by $index"><div ng-click="touchProduct(product)"><div class="item-photo"><img ng-src="image/default-photo.png" lazy-img="{{product.default_photo.large}}"></div><div class="item-name">{{product.name}}</div><div class="item-footer"><div class="footer-sales">{{product.sales_count}}人付款</div><div class="footer-price">{{product.current_price| currency:"￥"}}</div></div></div></div></div><div class="empty" ng-if="isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-product-empty.png"><div class="item-text">暂无任何商品</div></div></div><div class="loading-more" ng-if="isLoaded && isLoading">正在加载...</div><div class="loading-more" ng-if="isLoaded && isLastPage">全部加载完毕</div></div></div>'),i.put("modules/signin/signin.html",'<div class="app-container with-navbar" ng-controller="SigninController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">取消</div></div><div class="navbar-title">用户登录</div></div><div class="app-content"><div class="signin-form"><div class="signin-field"><img class="field-icon" src="image/ind-username.png"> <input class="field-input" placeholder="请输入用户名/邮箱/手机号" ng-model="username"></div><div class="signin-hline"></div><div class="signin-field"><img class="field-icon" src="image/ind-password.png"> <input type="password" class="field-input" placeholder="请输入密码" ng-model="password"></div></div><div class="signin-submit" ng-click="touchSignin()">登录</div><div class="signin-other"><div class="other-item abs-left" ng-click="touchSignup()">快速注册</div><div class="other-item abs-right" ng-click="touchForget()">忘记密码?</div></div><div class="signin-social" ng-if="isWeixin()"><div class="social-header"><div class="header-line"></div><div class="header-label">第三方登录</div></div><div class="social-itemset"><div class="itemset-item" ng-click="touchWeixin()"><img class="item-icon" src="image/wechat.png"><div class="item-text">微信</div></div><!-- 				<div class="itemset-item" ng-click="touchQQ()">\r\n					<img class="item-icon" src="image/qq.png"/>\r\n					<div class="item-text">QQ</div>\r\n				</div> --></div></div></div></div>'),i.put("modules/signup/signup.html",'<div class="app-container with-navbar" ng-controller="SignupController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">用户注册</div><div class="navbar-right"></div></div><div class="app-content"><div class="signup-filter"><div class="signup-item" ng-class="{active: currentTab == TAB_MOBILE}" ng-click="touchTabMobile()"><span class="text">手机号</span></div><div class="signup-item" ng-class="{active: currentTab == TAB_EMAIL}" ng-click="touchTabEmail()"><span class="text">邮箱</span></div></div><div ng-show="signupMobile.show" ng-include="\'modules/signup/signupMobile.html\'"></div><div ng-hide="signupMobile.show" ng-include="\'modules/signup/signupEmail.html\'"></div></div></div>'),i.put("modules/signup/signupEmail.html",'<div class="signup-form"><div class="signup-field"><input class="field-input" placeholder="用户名" ng-model="state.username"></div></div><div class="signup-tips">3-25位英文与数字</div><div class="signup-form"><div class="signup-field"><input type="password" class="field-input" placeholder="设置密码" ng-model="state.password"></div><div class="signup-hline"></div><div class="signup-field"><input type="password" class="field-input" placeholder="确认密码" ng-model="state.password2"></div></div><div class="signup-tips">6-20位数字/字母/符号</div><div class="signup-form"><div class="signup-field"><input class="field-input" type="email" placeholder="邮箱地址" ng-model="state.email"></div></div><div class="signup-tips">如：username@company.com</div><div class="signup-submit" ng-click="touchSignup()">注册</div><div class="signup-license" ng-click="touchLicense()">点击注册表示同意<span class="license">《用户协议》</span></div>'),i.put("modules/signup/signupMobile.html",'<div class="signup-form"><div class="signup-field"><input type="text" onkeyup="(this.v=function(){this.value=this.value.replace(/[^0-9-]+/,\'\');}).call(this)" onblur="this.v()" class="field-input" placeholder="请输入手机号" ng-model="state.mobile"></div><div class="signup-hline"></div><div class="signup-field-code"><input type="text" onkeyup="(this.v=function(){this.value=this.value.replace(/[^0-9-]+/,\'\');}).call(this)" onblur="this.v()" class="field-input" placeholder="请输入手机验证码" ng-model="state.mobile_code"><div class="{{paraclass}}" ng-click="toucheMobileCode()">{{paracont}}</div></div></div><div class="signup-form"><div class="signup-field"><input type="password" class="field-input" placeholder="设置密码" ng-model="state.mobile_password"></div><div class="signup-hline"></div><div class="signup-field"><input type="password" class="field-input" placeholder="确认密码" ng-model="state.mobile_password2"></div></div><div class="signup-tips">6-20位数字/字母/符号</div><div class="signup-submit" ng-click="touchSignupMobile()">注册</div><div class="signup-license" ng-click="touchLicense()">点击注册表示同意<span class="license">《用户协议》</span></div>'),i.put("modules/teegon/teegon.html",'<div class="app-container with-navbar with-tabbar" ng-controller="TeegonController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">天工收银</div><div class="navbar-right"></div></div><div class="app-content"><div class="payment-header"><div class="header-title">订单 #{{paymentModel.order.sn}}，请您尽快付款。</div><div class="header-total">合计：<em>{{paymentModel.order.total| currency:"￥"}}</em></div></div><div class="payment-list" ng-if="paymentModel.isLoaded"><div class="list-item" ng-class="{active: isSelected(payment)}" ng-repeat="payment in teegonTypes track by $index" ng-click="touchSelect(payment)"><div class="item-checkbox"></div><div class="item-content"><div class="content-desc">{{payment.desc}}</div><div class="content-title">{{payment.name}}</div></div></div></div><div class="payment-submit" ng-click="touchSubmit()" ng-if="teegonTypes.length > 0">确认支付</div></div></div>'),i.put("modules/wechat-auth/wechat-auth.html",'<div class="app-container with-navbar"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">微信登录</div></div><div class="app-content"><div class="empty"><div class="empty-item"><div class="item-text">正在处理，请稍候...</div></div></div></div></div>'),i.put("modules/wechat-authbase/wechat-authbase.html",'<div class="app-container with-navbar"><div class="app-content"><div class="empty"></div></div></div><script type="text/javascript">$(window).load(function(){\n        var el = $(\'#splash\');\n        el.fadeOut(500, function(){\n            el.remove();\n        });\n    })</script>'),i.put("modules/wechat-pay/wechat-pay.html",'<div class="app-container with-navbar"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">微信支付</div></div><div class="app-content"><div class="empty"><div class="empty-item"><div class="item-text">正在处理，请稍候...</div></div></div></div></div>'),i.put("modules/withdraw-history/withdraw-history.html",'<div class="app-container with-navbar with-loader" ng-controller="WithDrawHistoryController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goBack()"><img class="button-icon" ng-src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">提现记录</div></div><div class="app-content" infinite-scroll="withDrawHistoryModel.loadMore()"><div class="withdraw-history-list" ng-if="withDrawHistoryModel.withdraws && withDrawHistoryModel.withdraws.length"><div class="list-item" ng-repeat="withdraw in withDrawHistoryModel.withdraws track by $index"><div class="item-header"><div class="header-status blue" ng-if="withdraw.status == ENUM.WITHDRAW_STATUS.WAIT">待处理</div><div class="header-status greed" ng-if="withdraw.status == ENUM.WITHDRAW_STATUS.FINISH">已完成</div><div class="header-status gray" ng-if="withdraw.status == ENUM.WITHDRAW_STATUS.CANCEL">已取消</div><div class="header-status red" ng-if="withdraw.status == ENUM.WITHDRAW_STATUS.CANCEL">已取消</div><div class="header-money">¥{{withdraw.cash}}</div></div><div class="item-header"><div class="admin-memo">{{withdraw.admin_memo?withdraw.admin_memo:" "}}</div><div class="header-money">提现金额</div></div><div class="horizontal-line"></div><div class="item-footer"><div class="footer-time">申请时间：{{withdraw.update_at?withdraw.update_at:withdraw.create_at | localTime}}</div><div class="member-memo">会员备注：{{withdraw.member_memo?withdraw.member_memo:" "}}</div><div class="footer" ng-if="withdraw.status == ENUM.WITHDRAW_STATUS.WAIT" ng-click="touchCancel(withdraw)"><div class="footer-button dark">取消提现</div></div></div></div></div><div class="empty" ng-if="withDrawHistoryModel.isEmpty"><div class="empty-item"><img class="item-logo" ng-src="image/logo-order-empty.png"><div class="item-text">暂无任何提现记录</div></div></div><div class="loading-more" ng-if="withDrawHistoryModel.isLoaded && withDrawHistoryModel.isLoading">正在加载...</div><div class="loading-more" ng-if="withDrawHistoryModel.isLoaded && withDrawHistoryModel.isLastPage">全部加载完毕</div><!-- Dialog --><div id="dialog" ng-show="showDialog"><div class="mask"></div><div class="dialog danger"><div class="dialog-title">确认取消</div><div class="dialog-content">是否取消该提现</div><div class="dialog-button"><div class="button left" ng-click="touchDialogCancel()">取消</div><div class="button right" ng-click="touchDialogConfirm()">确认</div></div></div></div></div></div>'),i.put("modules/withdraw-success/withdraw-success.html",'<div class="app-container with-navbar" ng-controller="WithDrawSuccessController"><div class="navbar fixed-top"><div class="navbar-left hide-weixin" ng-click="goHome()"><img class="button-icon" src="image/nav-left.png"><div class="button-text">返回</div></div><div class="navbar-title">提现</div><div class="navbar-right"></div></div><div class="withdraw-success"><img class="info-icon" src="image/e15_wait.png"><div class="info-text">提现申请已提交</div><div class="info-tips">请等待后台人员审核</div><div class="withdraw-info"><div class="withdraw-amount">提现金额 ¥{{withdraw}}</div><div class="withdraw-memo">备注 {{member_memo}}</div></div><div class="info-button" ng-click="goHome()">完成</div></div></div>'),i.put("app/templates/404.html","")}]);